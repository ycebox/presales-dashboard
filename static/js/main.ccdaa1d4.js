/*! For license information please see main.ccdaa1d4.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!_.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,x(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+E(o=e[c],c);l+=P(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,a,u=s+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},z={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(v=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&z(x,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(N),N=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&z(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,_=!1,S=null,N=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?j():(_=!1,S=null)}}else _=!1}if("function"===typeof b)j=function(){b(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=T,j=function(){L.postMessage(null)}}else j=function(){g(T,0)};function R(e){S=e,_||(_=!0,j())}function z(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(v?(y(N),N=-1):v=!0,z(x,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":`${r}.offset`,s="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var I,$=Object.assign;function D(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function F(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,_e=null;function Se(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Ne(e){je?_e?_e.push(e):_e=[e]:je=e}function Ce(){if(je){var e=je,t=_e;if(_e=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Oe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==je||null!==_e)&&(Pe(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Re=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ue){Re=!1}function Ae(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,$e=null,De=!1,Me=null,Ue={onError:function(e){Ie=!0,$e=e}};function Fe(e,t,n,r,a,s,i,o,l){Ie=!1,$e=null,Ae.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,jt,_t,St,Nt=!1,Ct=[],Et=null,Pt=null,Tt=null,Ot=new Map,Lt=new Map,Rt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function It(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $t(e){var t=ya(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Dt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==Tt&&Dt(Tt)&&(Tt=null),Ot.forEach(Mt),Lt.forEach(Mt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Ft(t,e)}if(0<Ct.length){Ft(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ft(Et,e),null!==Pt&&Ft(Pt,e),null!==Tt&&Ft(Tt,e),Ot.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)$t(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Jt(e,t,n,r)}finally{bt=a,Ht.transition=s}}function Wt(e,t,n,r){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Jt(e,t,n,r)}finally{bt=a,Ht.transition=s}}function Jt(e,t,n,r){if(Vt){var a=Qt(e,t,n,r);if(null===a)Vr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=It(Et,e,t,n,r,a),!0;case"dragenter":return Pt=It(Pt,e,t,n,r,a),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,It(Ot.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,It(Lt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&Vr(e,t,r,Kt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=ya(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=$({},cn,{view:0,detail:0}),hn=an(dn),fn=$({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an($({},fn,{dataTransfer:0})),vn=an($({},dn,{relatedTarget:0})),gn=an($({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=$({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an($({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Sn(){return _n}var Nn=$({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Nn),En=an($({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an($({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=an($({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(On),Rn=[9,13,27,32],zn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var In=u&&"TextEvent"in window&&!An,$n=u&&(!zn||An&&8<An&&11>=An),Dn=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function Kn(e){Dr(e,0)}function Qn(e){if(J(wa(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Jn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Jn)){var t=[];qn(t,Jn,e,xe(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Jn)}function sr(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},jr={},_r={};function Sr(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return jr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=Sr("animationend"),Cr=Sr("animationiteration"),Er=Sr("animationstart"),Pr=Sr("transitionend"),Tr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Tr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var zr=Or[Rr];Lr(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Lr(Nr,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Er,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Fe.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var u=$e;Ie=!1,$e=null,De||(De=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;$r(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;$r(a,o,c),s=l}}}if(De)throw e=Me,De=!1,Me=null,e}function Mr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Gt(t)){case 1:var a=qt;break;case 4:a=Wt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ya(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=s,a=xe(n),i=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Nr:case Cr:case Er:l=gn;break;case Pr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Le(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==c?o:wa(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Jr(f))p++;for(f=0,m=h;m;m=Jr(m))f++;for(;0<p-f;)u=Jr(u),p--;for(;0<f-p;)h=Jr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Jr(u),h=Jr(h)}u=null}else u=null;null!==l&&Kr(i,o,l,u,!1),null!==c&&null!==d&&Kr(i,d,c,u,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Gn;else if(Vn(o))if(Yn)v=ir;else{v=ar;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=sr);switch(v&&(v=v(e,r))?qn(i,v,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?wa(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var y;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Bn=!0)),0<(g=Wr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:g}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!zn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Dr(i,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Le(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,s))&&i.unshift(qr(n,l,o)):a||null!=(l=Le(n,s))&&i.push(qr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var ka=[],ja=-1;function _a(e){return{current:e}}function Sa(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Na(e,t){ja++,ka[ja]=e.current,e.current=t}var Ca={},Ea=_a(Ca),Pa=_a(!1),Ta=Ca;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Sa(Pa),Sa(Ea)}function za(e,t,n){if(Ea.current!==Ca)throw Error(s(168));Na(Ea,t),Na(Pa,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return $({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ta=Ea.current,Na(Ea,e),Na(Pa,Pa.current),!0}function $a(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Aa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Sa(Pa),Sa(Ea),Na(Ea,e)):Sa(Pa),Na(Pa,n)}var Da=null,Ma=!1,Ua=!1;function Fa(e){null===Da?Da=[e]:Da.push(e)}function Ba(){if(!Ua&&null!==Da){Ua=!0;var e=0,t=bt;try{var n=Da;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Da=null,Ma=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),Je(Ze,Ba),a}finally{bt=t,Ua=!1}}return null}var Ha=[],Va=0,qa=null,Wa=0,Ja=[],Ka=0,Qa=null,Ga=1,Ya="";function Xa(e,t){Ha[Va++]=Wa,Ha[Va++]=qa,qa=e,Wa=t}function Za(e,t,n){Ja[Ka++]=Ga,Ja[Ka++]=Ya,Ja[Ka++]=Qa,Qa=e;var r=Ga;e=Ya;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ga=1<<32-it(t)+a|n<<a|r,Ya=s+e}else Ga=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===qa;)qa=Ha[--Va],Ha[Va]=null,Wa=Ha[--Va],Ha[Va]=null;for(;e===Qa;)Qa=Ja[--Ka],Ja[Ka]=null,Ya=Ja[--Ka],Ja[Ka]=null,Ga=Ja[--Ka],Ja[Ka]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ga,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&ys(s)===t.type)?((r=a(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=zc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case k:return(t=Dc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case L:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);gs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,v=null;null!==d&&m<o.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,o[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===o.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(v=p(d,a,m,o[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),s=i(v,s,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function v(a,o,l,c){var u=A(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,v=o=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),as&&Xa(a,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(a,y.value,c))&&(o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return as&&Xa(a,v),u}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,v),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&ys(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=vs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===j?((s=Ac(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=zc(i.type,i.key,i.props,null,r.mode,l)).ref=vs(r,s,i),l.return=r,r=l)}return o(r);case k:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Dc(i,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(A(i))return v(r,s,i,l);gs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=$c(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=_a(null),js=null,_s=null,Ss=null;function Ns(){Ss=_s=js=null}function Cs(e){var t=ks.current;Sa(ks),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){js=e,Ss=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===js)throw Error(s(308));_s=e,js.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Os=null;function Ls(e){null===Os?Os=[e]:Os.push(e)}function Rs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,zs(e,r)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,zs(e,n)}return null===(a=r.interleaved)?(t.next=t,Ls(r)):(t.next=a.next,a.next=t),r.interleaved=t,zs(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var a=e.updateQueue;As=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=$({},d,h);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Vs={},qs=_a(Vs),Ws=_a(Vs),Js=_a(Vs);function Ks(e){if(e===Vs)throw Error(s(174));return e}function Qs(e,t){switch(Na(Js,t),Na(Ws,e),Na(qs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(qs),Na(qs,t)}function Gs(){Sa(qs),Sa(Ws),Sa(Js)}function Ys(e){Ks(Js.current);var t=Ks(qs.current),n=le(t,e.type);t!==n&&(Na(Ws,e),Na(qs,n))}function Xs(e){Ws.current===e&&(Sa(qs),Sa(Ws))}var Zs=_a(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Yi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function vi(){var e=0!==di;return di=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Il|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Il|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xi(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function ji(e,t){var n=ii,r=yi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,bo=!0),r=r.queue,Ai(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ti(9,Si.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||_i(n,t,a)}return a}function _i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ci(t)&&Ei(e)}function Ni(e,t,n){return n(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ei(e){var t=zs(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ji.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return yi().memoizedState}function Li(e,t,n,r){var a=gi();ii.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Ri(e,t,n,r){var a=yi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Ti(t,n,s,r))}ii.flags|=e,a.memoizedState=Ti(1|t,n,s,r)}function zi(e,t){return Li(8390656,8,e,t)}function Ai(e,t){return Ri(2048,8,e,t)}function Ii(e,t){return Ri(4,2,e,t)}function $i(e,t){return Ri(4,4,e,t)}function Di(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4,4,Di.bind(null,t,e),n)}function Ui(){}function Fi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Il|=n,e.baseState=!0),t)}function Vi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function qi(){return yi().memoizedState}function Wi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e))Qi(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Gi(n,t,r)}}function Ji(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Qi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Rs(e,t,a,r))&&(nc(n,e,r,a=ec()),Gi(n,t,r))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yi={readContext:Ts,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Ts,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:zi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4194308,4,Di.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Ui,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Vi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=gi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&si)||_i(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,zi(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Pl.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Ga&~(1<<32-it(Ga)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ts,useCallback:Fi,useContext:Ts,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Ii,useLayoutEffect:$i,useMemo:Bi,useReducer:wi,useRef:Oi,useState:function(){return wi(bi)},useDebugValue:Ui,useDeferredValue:function(e){return Hi(yi(),oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:qi,unstable_isNewReconciler:!1},eo={readContext:Ts,useCallback:Fi,useContext:Ts,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Ii,useLayoutEffect:$i,useMemo:Bi,useReducer:xi,useRef:Oi,useState:function(){return xi(bi)},useDebugValue:Ui,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[xi(bi)[0],yi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:qi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ds(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ds(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ds(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=La(t)?Ta:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Is(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=La(t)?Ta:Ea.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Bs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=mi(e,t,n,r,s,a),n=vi(),null===e||bo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function ko(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jo(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,a)}function _o(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Rl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Rl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Rl,Ll),Ll|=r;return wo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var s=La(n)?Ta:Ea.current;return s=Oa(t,s),Ps(t,a),n=mi(e,t,n,r,s,a),r=vi(),null===e||bo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function Co(e,t,n,r,a){if(La(n)){var s=!0;Ia(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Oa(t,c=La(n)?Ta:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),As=!1;var h=t.memoizedState;i.state=h,Bs(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Pa.current||As?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=As||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,$s(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Oa(t,l=La(n)?Ta:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),As=!1,h=t.memoizedState,i.state=h,Bs(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||Pa.current||As?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=As||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,s,a)}function Eo(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&$a(t,n,!1),Vo(e,t,s);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,a&&$a(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?za(0,t.pendingContext,t.pendingContext!==t.context):t.context&&za(0,t.context,!1),Qs(e,t.containerInfo)}function To(e,t,n,r,a){return fs(),ps(a),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Lo,Ro,zo,Ao={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function $o(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,a,0,null),e=Ac(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Ao,e):Do(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ic({mode:"visible",children:r.children},a,0,null),(i=Ac(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ao,i);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,zs(e,a),nc(r,e,a,-1))}return mc(),Mo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ja[Ka++]=Ga,Ja[Ka++]=Ya,Ja[Ka++]=Qa,Ga=e.id,Ya=e.overflow,Qa=t),t=Do(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Rc(r,o):(o=Ac(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ao,a}return e=(o=e.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Do(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Fo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fo(t,!0,n,null,s);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return La(t.type)&&Ra(),Wo(t),null;case 3:return r=t.stateNode,Gs(),Sa(Pa),Sa(Ea),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Lo(e,t),Wo(t),null;case 5:Xs(t);var a=Ks(Js.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(qs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":G(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":ae(r,i),Mr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":W(r),Z(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":G(e,r),a=Q(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(i in ye(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ve(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)zo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Js.current),Ks(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Wo(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===zl&&(zl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Gs(),Lo(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(Sa(Zs),null===(i=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qo(i,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,qo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Bl&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Wo(t),null}else 2*Ye()-i.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Na(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Sa(Pa),Sa(Ea),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Gs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Ro=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ks(qs.current);var s,i=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),i=[];break;case"select":a=$({},a,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},zo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Go=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Go||Zo(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Go&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Go=(r=Go)||null!==n.memoizedState,hl(e,t,n),Go=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(i,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){_c(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){_c(e,e.return,v)}try{nl(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(a,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ve(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(v){_c(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){_c(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(u=Go)||d,ml(t,e),Go=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){_c(r,n,v)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(v){_c(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Qo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Go;o=Qo;var c=Go;if(Qo=i,(Go=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?kl(a):null!==l?(l.return=i,Xo=l):kl(a);for(;null!==s;)Xo=s,bl(s,t,n),s=s.sibling;Xo=a,Qo=o,Go=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Go)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Go||512&t.flags&&al(t)}catch(f){_c(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function kl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_c(t,a,l)}}var s=t.return;try{al(t)}catch(l){_c(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){_c(t,i,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,_l=Math.ceil,Sl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,El=0,Pl=null,Tl=null,Ol=0,Ll=0,Rl=_a(0),zl=0,Al=null,Il=0,$l=0,Dl=0,Ml=null,Ul=null,Fl=0,Bl=1/0,Hl=null,Vl=!1,ql=null,Wl=null,Jl=!1,Kl=null,Ql=0,Gl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(s(185));gt(e,n,r),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&($l|=n),4===zl&&oc(e,Ol)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Bl=Ye()+500,Ma&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Pl?Ol:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ma=!0,Fa(e)}(lc.bind(null,e)):Fa(lc.bind(null,e)),ia(function(){0===(6&El)&&Ba()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=El;El|=2;var i=pc();for(Pl===e&&Ol===t||(Hl=null,Bl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ns(),Sl.current=i,El=a,null!==Tl?t=0:(Pl=null,Ol=0,t=zl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Al,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Al,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Ul,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Ul,Hl),t);break}xc(e,Ul,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Ul,Hl),r);break}xc(e,Ul,Hl);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Dl,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Al,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Hl),rc(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Bl=Ye()+500,Ma&&Ba())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&kc();var t=El;El|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(El=t))&&Ba()}}function dc(){Ll=Rl.current,Sa(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Gs(),Sa(Pa),Sa(Ea),ni();break;case 5:Xs(r);break;case 4:Gs();break;case 13:case 19:Sa(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Tl=e=Rc(e.current,null),Ol=Ll=t,zl=0,Al=null,Dl=$l=Il=0,Ul=Ml=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Os=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Ns(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,Nl.current=null,null===n||null===n.return){zl=1,Al=t,Tl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==zl&&(zl=2),null===Ml?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,fo(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Yi,null===e?Yi:e}function mc(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Pl||0===(268435455&Il)&&0===(268435455&$l)||oc(Pl,Ol)}function vc(e,t){var n=El;El|=2;var r=pc();for(Pl===e&&Ol===t||(Hl=null,hc(e,t));;)try{gc();break}catch(a){fc(e,a)}if(Ns(),El=n,Sl.current=r,null!==Tl)throw Error(s(261));return Pl=null,Ol=0,zl}function gc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Qe();)bc(Tl)}function bc(e){var t=jl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wc(e):Tl=t,Nl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Ll)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return zl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===zl&&(zl=5)}function xc(e,t,n){var r=bt,a=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Pl&&(Tl=Pl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Pc(tt,function(){return kc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=El;El|=4,Nl.current=null,function(e,t){if(ea=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ge(),El=l,bt=o,Cl.transition=i}else e.current=n;if(Jl&&(Jl=!1,Kl=e,Ql=a),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),i=e.pendingLanes,0!==(1&i)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Ba()}(e,t,n,r)}finally{Cl.transition=a,bt=r}return null}function kc(){if(null!==Kl){var e=wt(Ql),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=i.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(El=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function jc(e,t,n){e=Ms(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ms(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===zl||3===zl&&(130023424&Ol)===Ol&&500>Ye()-Fl?hc(e,0):Dl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=zs(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Pc(e,t){return Je(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Tc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Ac(n.children,a,i,t);case _:o=8,a|=8;break;case S:return(e=Oc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case P:return(e=Oc(13,n,t,a)).elementType=P,e.lanes=i,e;case T:return(e=Oc(19,n,t,a)).elementType=T,e.lanes=i,e;case R:return Ic(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case C:o=9;break e;case E:o=11;break e;case O:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ac(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,i,o,l){return e=new Mc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function Fc(e){if(!e)return Ca;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Aa(e,n,t)}return t}function Bc(e,t,n,r,a,s,i,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Fc(null),n=e.current,(s=Ds(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(a,t,i))&&(nc(e,a,i,s),Us(e,a,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fs();break;case 5:Ys(t);break;case 1:La(t.type)&&Ia(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(Na(Zs,1&Zs.current),null!==(e=Vo(e,t,n))?e.sibling:null);Na(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var a=Oa(t,Ea.current);Ps(t,n),a=mi(null,t,r,e,a,n);var i=vi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(i=!0,Ia(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Is(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,$s(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=To(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Vo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return $o(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Na(ks,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Pa.current){t=Vo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ds(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Es(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=Ts(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),ko(e,t,r,a=to(r.type,a),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ho(e,t),t.tag=1,La(r)?(e=!0,Ia(t)):e=!1,Ps(t,n),so(t,r,a),oo(t,r,a,n),Eo(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return _o(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Vc(i);o.call(e)}}Hc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Vc(i);s.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pa]=i.current,Br(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(i)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&$t(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&El)&&(Bl=Ye()+500,Ba()))}break;case 13:uc(function(){var t=zs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},kt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=zs(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));J(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ne,Ce,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,r="",a=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=s},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".49fbc932.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="presales-dashboard:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/presales-dashboard/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkpresales_dashboard=self.webpackChunkpresales_dashboard||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,a=n(43),s=n.t(a,2),i=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=r.Pop,h=null,v=g();function g(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=g(),t=null==e?null:e-v;v=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,o.replaceState(c({},o.state,{idx:v}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let a=p(w.location,e,t);n&&n(a,e),v=g()+1;let c=f(a,v),u=w.createHref(a);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}i&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let a=p(w.location,e,t);n&&n(a,e),v=g();let s=f(a,v),c=w.createHref(a);o.replaceState(s,"",c),i&&h&&h({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let a=z(("string"===typeof t?v(t):t).pathname||"/",n);if(null==a)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=R(a);i=O(s[o],e,r)}return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=M([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))a(e,t,r);else a(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=k(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,_=3,S=2,N=1,C=10,E=-2,P=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=E),t&&(r+=S),n.filter(e=>!P(e)).reduce((e,t)=>e+(j.test(t)?_:""===t?N:C),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:M([s,u.pathname]),pathnameBase:U(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return i}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=v(e):(a=c({},e),d(!a.pathname||!a.pathname.includes("?"),A("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),A("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),A("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?v(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:B(a)}}(a,s),u=o&&"/"!==o&&o.endsWith("/"),h=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],q=(new Set(V),["get",...V]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const J=a.createContext(null);const K=a.createContext(null);const Q=a.createContext(null);const G=a.createContext(null);const Y=a.createContext({outlet:null,matches:[],isDataRoute:!1});const X=a.createContext(null);function Z(){return null!=a.useContext(G)}function ee(){return Z()||d(!1),a.useContext(G).location}function te(e){a.useContext(Q).static||a.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=a.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=a.useRef(!1);return te(()=>{n.current=!0}),a.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))},[e,t])}():function(){Z()||d(!1);let e=a.useContext(J),{basename:t,future:n,navigator:r}=a.useContext(Q),{matches:s}=a.useContext(Y),{pathname:i}=ee(),o=JSON.stringify($(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return te(()=>{l.current=!0}),a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=D(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,i,e])}()}function re(){let{matches:e}=a.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ae(e,t,n,s){Z()||d(!1);let{navigator:i}=a.useContext(Q),{matches:o}=a.useContext(Y),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?v(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let w=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&w?a.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function se(){let e=function(){var e;let t=a.useContext(X),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ie=a.createElement(se,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Y.Provider,{value:this.props.routeContext},a.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(J);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,d=!1,h=null,f=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),v=()=>{let t;return t=i?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=a.useContext(J);return t||d(!1),t}function fe(e){let t=a.useContext(K);return t||d(!1),t}function pe(e){let t=function(){let e=a.useContext(Y);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:i=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=v(s));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=s,b=a.useMemo(()=>{let e=z(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}},[u,f,p,m,g,y,i]);return null==b?null:a.createElement(Q.Provider,{value:h},a.createElement(G.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise(()=>{});a.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,s)),n.push(i)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(ia){}new Map;const xe=s.startTransition;l.flushSync,s.useId;function ke(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=i.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback(e=>{d&&xe?xe(()=>u(e)):u(e)},[u,d]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ve(r),[r]),a.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var je,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(je||(je={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));class Se extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Ne extends Se{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ce extends Se{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ee extends Se{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pe;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Pe||(Pe={}));var Te=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Oe{constructor(e){let{headers:t={},customFetch:r,region:a=Pe.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Te(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let i,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",i=s):"string"===typeof s?(o["Content-Type"]="text/plain",i=s):"undefined"!==typeof FormData&&s instanceof FormData?i=s:(o["Content-Type"]="application/json",i=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:i}).catch(e=>{throw new Ne(e)}),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Ce(c);if(!c.ok)throw new Ee(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var Le=n(980);const{PostgrestClient:Re,PostgrestQueryBuilder:ze,PostgrestFilterBuilder:Ae,PostgrestTransformBuilder:Ie,PostgrestBuilder:$e,PostgrestError:De}=Le,Me={"X-Client-Info":"realtime-js/2.11.2"};var Ue,Fe,Be,He,Ve,qe;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ue||(Ue={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Fe||(Fe={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Be||(Be={})),function(e){e.websocket="websocket"}(He||(He={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ve||(Ve={}));class We{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class Je{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(qe||(qe={}));const Ke=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=Qe(a,e,t,r),n),{})},Qe=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?Ge(s,i):Ye(i)},Ge=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return tt(t,n)}switch(e){case qe.bool:return Xe(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return Ze(t);case qe.json:case qe.jsonb:return et(t);case qe.timestamp:return nt(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:default:return Ye(t)}},Ye=e=>e,Xe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ze=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},et=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tt=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>Ge(t,e))}return e},nt=e=>"string"===typeof e?e.replace(" ","T"):e,rt=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class at{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var st,it,ot,lt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(st||(st={}));class ct{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ct.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ct.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ct.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(it||(it={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ot||(ot={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(lt||(lt={}));class ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new at(this,Be.join,this.params,this.timeout),this.rejoinTimer=new Je(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ct(this),this.broadcastEndpointURL=rt(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(lt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(lt.CLOSED));const o={},l={broadcast:a,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(lt.SUBSCRIBED))}null===e||void 0===e||e(lt.SUBSCRIBED)}).receive("error",t=>{null===e||void 0===e||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Fe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new at(this,Be.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new at(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Be;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&ut.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Ke(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Ke(e.columns,e.old_record)),t}}const dt=()=>{},ht="undefined"!==typeof WebSocket;class ft{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Me,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dt,this.conn=null,this.sendBuffer=[],this.serializer=new We,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${He.websocket}`,this.httpEndpoint=rt(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Je(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(ht)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new pt(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,198,23)).then(e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ue.connecting:return Ve.Connecting;case Ue.open:return Ve.Open;case Ue.closing:return Ve.Closing;default:return Ve.Closed}}isConnected(){return this.connectionState()===Ve.Open}channel(e){const t=new ut(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Be.access_token,{access_token:e})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class pt{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ue.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class mt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class gt extends mt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yt extends mt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var bt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const wt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},xt=e=>{if(Array.isArray(e))return e.map(e=>xt(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=xt(r)}),t};var kt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_t=(e,t,r)=>kt(void 0,void 0,void 0,function*(){const a=yield bt(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{t(new gt(jt(n),e.status||500))}).catch(e=>{t(new yt(jt(e),e))}):t(new yt(jt(e),e))});function St(e,t,n,r,a,s){return kt(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>_t(e,o,r))})})}function Nt(e,t,n,r){return kt(this,void 0,void 0,function*(){return St(e,"GET",t,n,r)})}function Ct(e,t,n,r,a){return kt(this,void 0,void 0,function*(){return St(e,"POST",t,r,a,n)})}function Et(e,t,n,r,a){return kt(this,void 0,void 0,function*(){return St(e,"DELETE",t,r,a,n)})}var Pt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Tt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ot={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=wt(r)}uploadOrUpdate(e,t,n,r){return Pt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Ot),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Pt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Ot.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new mt("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}update(e,t,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Pt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Ct(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Pt(this,void 0,void 0,function*(){try{const r=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}download(e,t){return Pt(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield Nt(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}info(e){return Pt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Nt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:xt(e),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}exists(e){return Pt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return kt(this,void 0,void 0,function*(){return St(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vt(n)&&n instanceof yt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}remove(e){return Pt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}list(e,t,n){return Pt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Tt),t),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Rt={"X-Client-Info":"storage-js/2.7.1"};var zt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class At{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Rt),t),this.fetch=wt(n)}listBuckets(){return zt(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}getBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return zt(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return zt(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,a){return kt(this,void 0,void 0,function*(){return St(e,"PUT",t,r,a,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}}class It extends At{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Lt(this.url,this.headers,e,this.fetch)}}let $t="";$t="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Dt={headers:{"X-Client-Info":`supabase-js-${$t}/2.49.8`}},Mt={schema:"public"},Ut={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ft={};var Bt=n(630),Ht=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Vt=e=>{let t;return t=e||("undefined"===typeof fetch?Bt.default:fetch),function(){return t(...arguments)}},qt=(e,t,n)=>{const r=Vt(n),a="undefined"===typeof Headers?Bt.Headers:Headers;return(n,s)=>Ht(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var Wt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Jt="2.69.1",Kt=3e4,Qt=9e4,Gt={"X-Client-Info":`gotrue-js/${Jt}`},Yt="X-Supabase-Api-Version",Xt={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Zt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class en extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function tn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class nn extends en{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class rn extends en{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class an extends en{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class sn extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class on extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ln extends an{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cn extends an{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class un extends an{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dn extends an{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hn(e){return tn(e)&&"AuthRetryableFetchError"===e.name}class fn extends an{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class pn extends an{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vn=" \t\n\r=".split(""),gn=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vn.length;t+=1)e[vn[t].charCodeAt(0)]=-2;for(let t=0;t<mn.length;t+=1)e[mn[t].charCodeAt(0)]=t;return e})();function yn(e,t,n){const r=gn[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function bn(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)yn(e.charCodeAt(i),a,s);return t.join("")}function wn(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function xn(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}wn(r,t)}}function kn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)yn(e.charCodeAt(a),n,r);return new Uint8Array(t)}const jn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,_n={tested:!1,writable:!1},Sn=()=>{if(!jn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(ia){return!1}if(_n.tested)return _n.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_n.tested=!0,_n.writable=!0}catch(ia){_n.tested=!0,_n.writable=!1}return _n.writable};const Nn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Cn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},En=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Pn=async(e,t)=>{await e.removeItem(t)};class Tn{constructor(){this.promise=new Tn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function On(e){const t=e.split(".");if(3!==t.length)throw new pn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Zt.test(t[n]))throw new pn("JWT not in base64url format");return{header:JSON.parse(bn(t[0])),payload:JSON.parse(bn(t[1])),signature:kn(t[2]),raw:{header:t[0],payload:t[1]}}}function Ln(e){return("0"+e.toString(16)).substr(-2)}async function Rn(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ln).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Cn(e,`${t}-code-verifier`,a);const s=await Rn(r);return[s,r===s?"plain":"s256"]}Tn.promiseConstructor=Promise;const An=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var In=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dn=[502,503,504];async function Mn(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new dn($n(e),0);if(Dn.includes(e.status))throw new dn($n(e),e.status);let r,a;try{r=await e.json()}catch(ia){throw new rn($n(ia),ia)}const s=function(e){const t=e.headers.get(Yt);if(!t)return null;if(!t.match(An))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(ia){return null}}(e);if(s&&s.getTime()>=Xt.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new fn($n(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new sn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new fn($n(r),e.status,r.weak_password.reasons);throw new nn($n(r),e.status||500,a)}async function Un(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[Yt]||(s[Yt]=Xt.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(ia){throw console.error(ia),new dn($n(ia),0)}o.ok||await Mn(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(ia){await Mn(ia)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Fn(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Bn(e){const t=Fn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Hn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Vn(e){return{data:e,error:null}}function qn(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=In(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Wn(e){return e}var Jn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class Kn{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Nn(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await Un(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Un(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hn})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Jn(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Un(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:qn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(tn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Un(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hn})}catch(t){if(tn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Un(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Wn});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(tn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Un(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hn})}catch(t){if(tn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Un(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hn})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await Un(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hn})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await Un(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(tn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Un(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(tn(t))return{data:null,error:t};throw t}}}const Qn={getItem:e=>Sn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sn()&&globalThis.localStorage.removeItem(e)}};function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Yn=!!(globalThis&&Sn()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Xn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zn extends Xn{}async function er(e,t,n){Yn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Yn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Yn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zn(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(ia){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",ia)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Yn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Yn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(ia){"undefined"!==typeof self&&(self.globalThis=self)}}();const tr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nr(e,t,n){return await n()}class rr{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rr.nextInstanceID,rr.nextInstanceID+=1,this.instanceID>0&&jn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Kn({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Nn(r.fetch),this.lock=r.lock||nr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:jn()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=er:this.lock=nr,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Sn()?this.storage=Qn:(this.memoryStorage={},this.storage=Gn(this.memoryStorage)):(this.memoryStorage={},this.storage=Gn(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(ia){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",ia)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Jt}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(ia){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),jn()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return tn(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return tn(t)?{error:t}:{error:new rn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Un(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Fn}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(tn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await zn(this.storage,this.storageKey)),a=await Un(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:Fn})}else{if(!("phone"in e))throw new ln("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Un(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Fn})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(tn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Un(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Bn})}else{if(!("phone"in e))throw new ln("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Un(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Bn})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new on}}catch(t){if(tn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await En(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Un(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Fn});if(await Pn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new on}}catch(a){if(tn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Un(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Fn}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new on}}catch(t){if(tn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await zn(this.storage,this.storageKey));const{error:o}=await Un(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Un(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new ln("You must provide either an email or phone number.")}catch(i){if(tn(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Un(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Fn});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(tn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await zn(this.storage,this.storageKey)),await Un(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Vn})}catch(a){if(tn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new sn;const{error:r}=await Un(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(tn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Un(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Un(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new ln("You must provide either an email or phone number and a type")}catch(t){if(tn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(ia){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(ia){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Qt;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Un(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hn}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Un(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Hn}):{data:{user:null},error:new sn}})}catch(t){if(tn(t))return function(e){return tn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new sn;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await zn(this.storage,this.storageKey));const{data:l,error:c}=await Un(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Hn});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=On(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(tn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new sn;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(tn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!jn())throw new cn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new un("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new cn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new un("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new cn("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Kt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const v={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(tn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await En(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return tn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await zn(this.storage,this.storageKey,!0));try{return await Un(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(tn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(tn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Un(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return jn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(tn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Un(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(tn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Un(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fn})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&hn(t)&&Date.now()+n-a<Kt},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(ia){if(!r(a,ia))return void t(ia)}})()}))}catch(a){if(this._debug(t,"error",a),tn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),jn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await En(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Qt;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),hn(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Tn;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new sn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),tn(a)){const e={session:null,error:a};return hn(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(ia){r.push(ia)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Cn(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(ia){console.error("removing visibilitychange callback failed",ia)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kt);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Kt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(ia){console.error("Auto refresh tick failed with error. This is likely a transient error.",ia)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(ia){if(!(ia.isAcquireTimeout||ia instanceof Xn))throw ia;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await zn(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Un(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(tn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Un(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(tn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await Un(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(tn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Un(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(tn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=On(r.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await Un(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new pn("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find(t=>t.kid===e),!t)throw new pn("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=On(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,s,function(e){const t=[];return xn(e,e=>t.push(e)),new Uint8Array(t)}(`${i}.${o}`)))throw new pn("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}}}rr.nextInstanceID=0;const ar=rr;class sr extends ar{constructor(e){super(e)}}var ir=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ia){s(ia)}}function o(e){try{l(r.throw(e))}catch(ia){s(ia)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class or{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>Wt(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Mt,realtime:Ft,auth:Object.assign(Object.assign({},Ut),{storageKey:c}),global:Dt});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=qt(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Re(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Oe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new It(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return ir(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ft(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const lr=((e,t,n)=>new or(e,t,n))("https://wxrwoxfrrtaynhhliroe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4cndveGZycnRheW5oaGxpcm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5OTE4NzQsImV4cCI6MjA2MzU2Nzg3NH0.N8LIM1AbAX2t5TVllcMxnyYDS1mg-8-ZqxIO8qEyhZo");var cr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ur=a.createContext&&a.createContext(cr),dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},dr.apply(this,arguments)},hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function fr(e){return e&&e.map(function(e,t){return a.createElement(e.tag,dr({key:t},e.attr),fr(e.child))})}function pr(e){return function(t){return a.createElement(mr,dr({attr:dr({},e.attr)},t),fr(e.child))}}function mr(e){var t=function(t){var n,r=e.attr,s=e.size,i=e.title,o=hr(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",dr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:dr(dr({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==ur?a.createElement(ur.Consumer,null,function(e){return t(e)}):t(cr)}function vr(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function gr(e){return pr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"}}]})(e)}function yr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(e)}function br(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function wr(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function xr(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function kr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function jr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function _r(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Sr(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function Nr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Cr(e){return pr({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(e)}function Er(e){return pr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Pr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Tr(e){return pr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Or(e){return pr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function Lr(e){return pr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function Rr(e){return pr({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"}}]})(e)}function zr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Ar(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function Ir(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function $r(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Dr(e){return pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function Mr(e){return pr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Ur(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Fr(e){return pr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Br(e){return pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Hr(e){return pr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}var Vr=n(579);const qr=function(){const e=ne(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)({country:"",account_manager:"",customer_type:""}),[d,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[m,v]=(0,a.useState)({customer_id:"",customer_name:"",country:"",account_manager:"",sales_stage:"",product:"",deal_value:"",backup_presales:"",remarks:"",is_archived:"false"}),[g,y]=(0,a.useState)({customer_name:"",account_manager:"",country:"",customer_type:"New",year_first_closed:"",company_size:"",annual_revenue:"",technical_complexity:"Medium",relationship_strength:"Medium",health_score:7,key_stakeholders:[],competitors:[],notes:""}),b=["Australia","Bangladesh","Brunei","Cambodia","China","Fiji","India","Indonesia","Japan","Laos","Malaysia","Myanmar","Nepal","New Zealand","Pakistan","Papua New Guinea","Philippines","Singapore","Solomon Islands","South Korea","Sri Lanka","Thailand","Timor-Leste","Tonga","Vanuatu","Vietnam"].sort(),w=["Marketplace","O-City","Processing","SmartVista"].sort(),x=["Closed-Cancelled/Hold","Closed-Lost","Closed-Won","Contracting","Demo","Discovery","PoC","RFI","RFP","SoW"].sort(),k=["Startup (1-10)","Small (11-50)","Medium (51-200)","Large (201-1000)","Enterprise (1000+)"],j=["Under $1M","$1M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M+"];(0,a.useEffect)(()=>{S()},[c]),(0,a.useEffect)(()=>{console.log("Projects component mounted, fetching customers..."),_()},[]);const _=async()=>{try{console.log("Fetching customers...");const{data:e,error:t}=await lr.from("customers").select("*").order("customer_name",{ascending:!0});if(t)return void console.error("Error fetching customers:",t);console.log("Customers fetched:",e),s(e||[])}catch(e){console.error("Unexpected error fetching customers:",e)}},S=async()=>{l(!0);try{let e=lr.from("customers").select("*");Object.entries(c).forEach(t=>{let[n,r]=t;if(r){if("sales_stage"===n||"product"===n)return;e=e.eq(n,r)}});const{data:t,error:r}=await e.order("customer_name",{ascending:!0});r?(console.error("Error fetching customers:",r),n([])):(console.log("Customers with projects:",t),n(t||[]))}catch(e){console.error("Unexpected error in fetchProjects:",e),n([])}l(!1)},N=e=>{const{name:t,value:n}=e.target;u(e=>({...e,[t]:n}))},C=e=>{const{name:t,value:n}=e.target;if(v(e=>({...e,[t]:n})),"customer_id"===t&&n){const e=r.find(e=>e.id===parseInt(n));e&&v(t=>({...t,customer_name:e.customer_name,country:e.country,account_manager:e.account_manager}))}},E=e=>{const{name:t,value:n,type:r}=e.target;if("key_stakeholders"===t||"competitors"===t){const e=n.split(",").map(e=>e.trim()).filter(e=>e);y(n=>({...n,[t]:e}))}else y("number"===r?e=>({...e,[t]:parseFloat(n)||0}):e=>({...e,[t]:n}))},P=()=>{p(!1),y({customer_name:"",account_manager:"",country:"",customer_type:"New",year_first_closed:"",company_size:"",annual_revenue:"",technical_complexity:"Medium",relationship_strength:"Medium",health_score:7,key_stakeholders:[],competitors:[],notes:""})},T=()=>{h(!1),v({customer_id:"",customer_name:"",country:"",account_manager:"",sales_stage:"",product:"",deal_value:"",backup_presales:"",remarks:"",is_archived:"false"})},O=(0,a.useMemo)(()=>(console.log("Creating customer options from:",r),r.map(e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.customer_name," (",e.country,")"]},e.id))),[r]),L=(0,a.useMemo)(()=>b.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t)),[b]),R=(0,a.useMemo)(()=>k.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t)),[k]),z=(0,a.useMemo)(()=>j.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t)),[j]),A=(0,a.useMemo)(()=>x.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t)),[x]),I=(0,a.useMemo)(()=>w.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t)),[w]),$=(0,a.useCallback)(e=>{let{isOpen:t,onClose:n,children:r}=e;return t?o.createPortal((0,Vr.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Vr.jsx)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:r})}),document.body):null},[]);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("section",{className:"projects-wrapper",children:[(0,Vr.jsxs)("div",{className:"projects-header-row",children:[(0,Vr.jsxs)("h2",{className:"projects-header",children:[(0,Vr.jsx)(br,{})," Customer Portfolio"]}),(0,Vr.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,Vr.jsxs)("button",{className:"add-btn",style:{backgroundColor:"#10b981"},onClick:()=>p(!0),children:[(0,Vr.jsx)(Fr,{})," Add Customer"]}),(0,Vr.jsxs)("button",{className:"add-btn",style:{backgroundColor:"#a6b2d9"},onClick:()=>h(!0),children:[(0,Vr.jsx)(Ir,{})," Add Project"]})]})]}),(0,Vr.jsxs)("div",{className:"filters updated-filters",children:[(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Or,{style:{marginRight:"0.5rem",color:"var(--color-primary)"}}),"Country Filter",(0,Vr.jsxs)("select",{name:"country",value:c.country,onChange:N,children:[(0,Vr.jsx)("option",{value:"",children:"All Countries"}),L]})]}),(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Br,{style:{marginRight:"0.5rem",color:"var(--color-success)"}}),"Account Manager",(0,Vr.jsxs)("select",{name:"account_manager",value:c.account_manager,onChange:N,children:[(0,Vr.jsx)("option",{value:"",children:"All Account Managers"}),[...new Set(t.map(e=>e.account_manager).filter(Boolean))].sort().map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]})]}),(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(br,{style:{marginRight:"0.5rem",color:"var(--color-neutral-500)"}}),"Customer Type",(0,Vr.jsxs)("select",{name:"customer_type",value:c.customer_type,onChange:N,children:[(0,Vr.jsx)("option",{value:"",children:"All Customer Types"}),(0,Vr.jsx)("option",{value:"New",children:"New Customers"}),(0,Vr.jsx)("option",{value:"Existing",children:"Existing Customers"})]})]})]}),i?(0,Vr.jsx)("div",{className:"loading-container",children:(0,Vr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,Vr.jsx)("div",{style:{width:"24px",height:"24px",border:"3px solid var(--color-neutral-200)",borderTop:"3px solid var(--color-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Loading customers..."]})}):(0,Vr.jsx)("div",{className:"table-scroll-wrapper",children:(0,Vr.jsx)("div",{className:"table-container",children:(0,Vr.jsxs)("table",{className:"modern-table project-table",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"Customer Details"}),(0,Vr.jsx)("th",{children:"Location"}),(0,Vr.jsx)("th",{children:"Account Manager"}),(0,Vr.jsx)("th",{children:"Status"}),(0,Vr.jsx)("th",{style:{textAlign:"center"},children:"Actions"})]})}),(0,Vr.jsx)("tbody",{children:0===t.length?(0,Vr.jsx)("tr",{children:(0,Vr.jsx)("td",{colSpan:"5",style:{textAlign:"center",padding:"3rem",color:"var(--color-neutral-500)",fontStyle:"italic"},children:"No customers found matching the current filters."})}):t.map(t=>(0,Vr.jsxs)("tr",{id:`customer-${t.id}`,children:[(0,Vr.jsx)("td",{children:(0,Vr.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:(0,Vr.jsxs)("button",{onClick:()=>{return n=t.id,r=t.customer_name,void(n?e(`/customer/${n}`):console.log("No customer ID found for:",r));var n,r},className:"customer-link-btn",title:"View customer details",children:[(0,Vr.jsx)(Br,{size:14}),t.customer_name]})})}),(0,Vr.jsx)("td",{children:(0,Vr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Vr.jsx)(Or,{size:12,style:{color:"var(--color-neutral-400)"}}),t.country]})}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("div",{style:{fontWeight:"600",color:"var(--color-neutral-700)"},children:t.account_manager})}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("span",{className:"Existing"===t.customer_type?"existing-customer":"new-customer",children:t.customer_type||"New"})}),(0,Vr.jsx)("td",{style:{textAlign:"center"},children:(0,Vr.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(!window.confirm("Are you sure you want to delete this customer?"))return;const{error:t}=await lr.from("customers").delete().eq("id",e);t?console.error("Delete error:",t.message):(S(),_())})(t.id),title:"Delete customer",children:(0,Vr.jsx)(Ur,{})})})]},t.id))})]})})})]}),(0,Vr.jsxs)($,{isOpen:f,onClose:P,children:[(0,Vr.jsx)("h3",{children:"Add New Customer"}),(0,Vr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Adding customer:",g);const{data:e,error:t}=await lr.from("customers").insert([g]).select();if(t)return console.error("Error adding customer:",t),void alert(`Error adding customer: ${t.message}`);if(e&&e.length>0){P(),await _(),await S();const t=e[0].id;v(n=>({...n,customer_id:t.toString(),customer_name:e[0].customer_name,country:e[0].country,account_manager:e[0].account_manager})),alert("Customer added successfully!")}}catch(t){console.error("Unexpected error:",t),alert("An unexpected error occurred. Please try again.")}},className:"modern-form",children:[(0,Vr.jsxs)("label",{children:["Customer Name *",(0,Vr.jsx)("input",{name:"customer_name",value:g.customer_name,onChange:E,required:!0,placeholder:"Enter customer name"})]}),(0,Vr.jsxs)("label",{children:["Account Manager *",(0,Vr.jsx)("input",{name:"account_manager",value:g.account_manager,onChange:E,required:!0,placeholder:"Enter account manager name"})]}),(0,Vr.jsxs)("label",{children:["Country *",(0,Vr.jsxs)("select",{name:"country",value:g.country,onChange:E,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:"Select Country"}),L]})]}),(0,Vr.jsxs)("label",{children:["Customer Type",(0,Vr.jsxs)("select",{name:"customer_type",value:g.customer_type,onChange:E,children:[(0,Vr.jsx)("option",{value:"New",children:"New Customer"}),(0,Vr.jsx)("option",{value:"Existing",children:"Existing Customer"})]})]}),(0,Vr.jsxs)("label",{children:["Year First Closed",(0,Vr.jsx)("input",{name:"year_first_closed",type:"number",min:"2000",max:(new Date).getFullYear(),value:g.year_first_closed,onChange:E,placeholder:"e.g., 2022"})]}),(0,Vr.jsxs)("label",{children:["Company Size",(0,Vr.jsxs)("select",{name:"company_size",value:g.company_size,onChange:E,children:[(0,Vr.jsx)("option",{value:"",children:"Select Company Size"}),R]})]}),(0,Vr.jsxs)("label",{children:["Annual Revenue",(0,Vr.jsxs)("select",{name:"annual_revenue",value:g.annual_revenue,onChange:E,children:[(0,Vr.jsx)("option",{value:"",children:"Select Revenue Range"}),z]})]}),(0,Vr.jsxs)("label",{children:["Technical Complexity",(0,Vr.jsxs)("select",{name:"technical_complexity",value:g.technical_complexity,onChange:E,children:[(0,Vr.jsx)("option",{value:"Low",children:"Low Complexity"}),(0,Vr.jsx)("option",{value:"Medium",children:"Medium Complexity"}),(0,Vr.jsx)("option",{value:"High",children:"High Complexity"})]})]}),(0,Vr.jsxs)("label",{children:["Relationship Strength",(0,Vr.jsxs)("select",{name:"relationship_strength",value:g.relationship_strength,onChange:E,children:[(0,Vr.jsx)("option",{value:"Weak",children:"Developing"}),(0,Vr.jsx)("option",{value:"Medium",children:"Established"}),(0,Vr.jsx)("option",{value:"Strong",children:"Strategic Partnership"})]})]}),(0,Vr.jsxs)("label",{children:["Health Score (1-10)",(0,Vr.jsx)("input",{name:"health_score",type:"number",min:"1",max:"10",value:g.health_score,onChange:E,placeholder:"Rate from 1-10"})]}),(0,Vr.jsxs)("label",{style:{gridColumn:"span 2"},children:["Key Stakeholders (comma-separated)",(0,Vr.jsx)("input",{name:"key_stakeholders",value:g.key_stakeholders.join(", "),onChange:E,placeholder:"John Smith, Jane Doe, etc."})]}),(0,Vr.jsxs)("label",{style:{gridColumn:"span 2"},children:["Main Competitors (comma-separated)",(0,Vr.jsx)("input",{name:"competitors",value:g.competitors.join(", "),onChange:E,placeholder:"Company A, Company B, etc."})]}),(0,Vr.jsxs)("label",{style:{gridColumn:"span 2"},children:["Additional Notes",(0,Vr.jsx)("textarea",{name:"notes",value:g.notes,onChange:E,rows:"3",style:{resize:"vertical"},placeholder:"Any additional information about this customer..."})]}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:P,children:"Cancel"}),(0,Vr.jsx)("button",{type:"submit",children:"Save Customer"})]})]})]}),(0,Vr.jsxs)($,{isOpen:d,onClose:T,children:[(0,Vr.jsx)("h3",{children:"Add New Project"}),(0,Vr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{error:t}=await lr.from("projects").insert([m]);t?console.error("Error adding project:",t.message):(T(),S())},className:"modern-form",children:[(0,Vr.jsxs)("label",{style:{gridColumn:"span 2"},children:["Select Customer (",r.length," available)",(0,Vr.jsxs)("select",{name:"customer_id",value:m.customer_id,onChange:C,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:0===r.length?"No customers available - Add one first!":"Choose a customer"}),O]}),0===r.length&&(0,Vr.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--color-danger)",marginTop:"0.5rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-md)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:'\u26a0\ufe0f No customers found. Please add a customer first using the "Add Customer" button.'})]}),(0,Vr.jsxs)("label",{children:["Sales Stage",(0,Vr.jsxs)("select",{name:"sales_stage",value:m.sales_stage,onChange:C,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:"Select Sales Stage"}),A]})]}),(0,Vr.jsxs)("label",{children:["Product",(0,Vr.jsxs)("select",{name:"product",value:m.product,onChange:C,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:"Select Product"}),I]})]}),(0,Vr.jsxs)("label",{children:["Deal Value ($)",(0,Vr.jsx)("input",{name:"deal_value",type:"number",value:m.deal_value||"",onChange:C,placeholder:"Enter deal value",min:"0",step:"0.01"})]}),(0,Vr.jsxs)("label",{children:["Backup Presales Engineer",(0,Vr.jsx)("input",{name:"backup_presales",value:m.backup_presales||"",onChange:C,placeholder:"Enter backup presales name"})]}),(0,Vr.jsxs)("label",{style:{gridColumn:"span 2"},children:["Project Remarks",(0,Vr.jsx)("textarea",{name:"remarks",value:m.remarks||"",onChange:C,placeholder:"Additional project details, requirements, or notes...",rows:"3",style:{resize:"vertical"}})]}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:T,children:"Cancel"}),(0,Vr.jsx)("button",{type:"submit",children:"Create Project"})]})]})]}),(0,Vr.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})};function Wr(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s()},[]);const s=async()=>{r(!0);try{const e=(new Date).toISOString().split("T")[0];console.log("Fetching tasks for today and before:",e);const[n,r]=await Promise.all([lr.from("project_tasks").select("id, description, status, due_date, project_id, projects(customer_name)").lte("due_date",e).eq("is_archived",!1).order("due_date",{ascending:!0}),lr.from("personal_tasks").select("id, description, status, due_date, priority").lte("due_date",e).eq("is_archived",!1).order("due_date",{ascending:!0})]);console.log("Project tasks raw data:",n),console.log("Personal tasks raw data:",r);let a=[];if(n.data&&n.data.length>0){const e=n.data.filter(e=>!["Done","Completed","Cancelled/On-hold"].includes(e.status)).map(e=>{var t;return{...e,task_type:"project",priority:"Medium",customer_name:(null===(t=e.projects)||void 0===t?void 0:t.customer_name)||`Project ${e.project_id}`}});a=[...a,...e],console.log("Processed project tasks:",e)}if(r.data&&r.data.length>0){const e=r.data.filter(e=>!["Done","Completed","Cancelled/On-hold"].includes(e.status)).map(e=>({...e,task_type:"personal",customer_name:"Personal Task",project_id:null}));a=[...a,...e],console.log("Processed personal tasks:",e)}console.log("All tasks before sorting:",a),a.sort((t,n)=>{const r=t.due_date<e,a=n.due_date<e;if(r&&!a)return-1;if(!r&&a)return 1;const s={High:3,Medium:2,Low:1},i=s[t.priority]||2,o=s[n.priority]||2;return i!==o?o-i:t.due_date.localeCompare(n.due_date)}),console.log("Final sorted tasks:",a),t(a),n.error&&console.error("Error loading project tasks:",n.error),r.error&&console.error("Error loading personal tasks:",r.error)}catch(e){console.error("Error fetching tasks:",e)}finally{r(!1)}},i=(new Date).toISOString().split("T")[0],o=e.filter(e=>{return(t=e.due_date)&&t<i;var t}),l=e.filter(e=>e.due_date===i),c=(e,t)=>{if("personal"===t||!e)return;const n=document.getElementById(`project-${e}`);n&&n.scrollIntoView({behavior:"smooth",block:"start"})},u=e=>{switch(e){case"In Progress":return(0,Vr.jsx)(Ar,{className:"text-blue-500"});case"Open":return(0,Vr.jsx)(Nr,{className:"text-gray-500"});case"Done":case"Completed":return(0,Vr.jsx)(jr,{className:"text-green-500"});default:return(0,Vr.jsx)(Dr,{className:"text-gray-400"})}},d=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return n?(0,Vr.jsxs)("div",{className:"today-tasks-container",children:[(0,Vr.jsxs)("div",{className:"tasks-header",children:[(0,Vr.jsx)("h2",{className:"tasks-title",children:"Today's Tasks"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"Loading tasks..."})]}),(0,Vr.jsx)("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>(0,Vr.jsxs)("div",{className:"task-skeleton",children:[(0,Vr.jsx)("div",{className:"skeleton-line w-3/4"}),(0,Vr.jsx)("div",{className:"skeleton-line w-1/2"})]},t))})]}):(0,Vr.jsxs)("div",{className:"today-tasks-container",children:[(0,Vr.jsxs)("div",{className:"tasks-header",children:[(0,Vr.jsx)("h2",{className:"tasks-title",children:"Today's Tasks"}),(0,Vr.jsxs)("div",{className:"task-summary",children:[o.length>0&&(0,Vr.jsxs)("span",{className:"summary-item overdue",children:[(0,Vr.jsx)(Tr,{className:"w-4 h-4"}),o.length," overdue"]}),l.length>0&&(0,Vr.jsxs)("span",{className:"summary-item today",children:[(0,Vr.jsx)(xr,{className:"w-4 h-4"}),l.length," due today"]}),0===e.length&&(0,Vr.jsx)("span",{className:"summary-item clear",children:"All caught up! \ud83c\udf89"})]})]}),e.length>0?(0,Vr.jsxs)("div",{className:"tasks-list",children:[o.length>0&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"section-header overdue",children:[(0,Vr.jsx)(Tr,{className:"w-4 h-4"}),(0,Vr.jsxs)("span",{children:["Overdue (",o.length,")"]})]}),o.map(e=>{return(0,Vr.jsxs)("div",{className:"task-item overdue",onClick:()=>c(e.project_id,e.task_type),children:[(0,Vr.jsxs)("div",{className:"task-content",children:[(0,Vr.jsxs)("div",{className:"task-main",children:[(0,Vr.jsxs)("div",{className:"task-status",children:[u(e.status),(0,Vr.jsx)("span",{className:"task-description",children:e.description})]}),(0,Vr.jsx)("div",{className:"task-meta",children:(0,Vr.jsx)("span",{className:`priority-badge ${d(e.priority)}`,children:e.priority})})]}),(0,Vr.jsxs)("div",{className:"task-details",children:[(0,Vr.jsx)("div",{className:"task-project",children:"personal"===e.task_type?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Br,{className:"w-3 h-3"})," Personal"]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(br,{className:"w-3 h-3"})," ",e.customer_name]})}),(0,Vr.jsxs)("div",{className:"task-due overdue",children:["Due ",(t=e.due_date,new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}))]})]})]}),"project"===e.task_type&&(0,Vr.jsx)("div",{className:"task-action",children:(0,Vr.jsx)(vr,{className:"w-3 h-3"})})]},`overdue-${e.task_type}-${e.id}`);var t})]}),l.length>0&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"section-header today",children:[(0,Vr.jsx)(xr,{className:"w-4 h-4"}),(0,Vr.jsxs)("span",{children:["Due Today (",l.length,")"]})]}),l.map(e=>(0,Vr.jsxs)("div",{className:"task-item today",onClick:()=>c(e.project_id,e.task_type),children:[(0,Vr.jsxs)("div",{className:"task-content",children:[(0,Vr.jsxs)("div",{className:"task-main",children:[(0,Vr.jsxs)("div",{className:"task-status",children:[u(e.status),(0,Vr.jsx)("span",{className:"task-description",children:e.description})]}),(0,Vr.jsx)("div",{className:"task-meta",children:(0,Vr.jsx)("span",{className:`priority-badge ${d(e.priority)}`,children:e.priority})})]}),(0,Vr.jsxs)("div",{className:"task-details",children:[(0,Vr.jsx)("div",{className:"task-project",children:"personal"===e.task_type?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Br,{className:"w-3 h-3"})," Personal"]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(br,{className:"w-3 h-3"})," ",e.customer_name]})}),(0,Vr.jsx)("div",{className:"task-due today",children:"Due today"})]})]}),"project"===e.task_type&&(0,Vr.jsx)("div",{className:"task-action",children:(0,Vr.jsx)(vr,{className:"w-3 h-3"})})]},`today-${e.task_type}-${e.id}`))]})]}):(0,Vr.jsxs)("div",{className:"empty-state",children:[(0,Vr.jsx)(jr,{className:"empty-icon"}),(0,Vr.jsx)("h3",{children:"All clear!"}),(0,Vr.jsx)("p",{children:"No urgent tasks for today. Great job staying on top of things!"})]}),(0,Vr.jsx)("style",{jsx:!0,children:"\n        .today-tasks-container {\n          background: white;\n          border-radius: 12px;\n          padding: 1.5rem;\n          border: 1px solid #e5e7eb;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .tasks-header {\n          margin-bottom: 1.5rem;\n        }\n\n        .tasks-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #111827;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .task-summary {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n\n        .summary-item {\n          display: flex;\n          align-items: center;\n          gap: 0.375rem;\n          font-size: 0.875rem;\n          font-weight: 600;\n        }\n\n        .summary-item.overdue {\n          color: #dc2626;\n        }\n\n        .summary-item.today {\n          color: #d97706;\n        }\n\n        .summary-item.clear {\n          color: #059669;\n        }\n\n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-size: 0.875rem;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          margin: 1.5rem 0 0.75rem 0;\n          padding-bottom: 0.5rem;\n          border-bottom: 2px solid;\n        }\n\n        .section-header.overdue {\n          color: #dc2626;\n          border-color: #dc2626;\n        }\n\n        .section-header.today {\n          color: #d97706;\n          border-color: #d97706;\n        }\n\n        .section-header:first-child {\n          margin-top: 0;\n        }\n\n        .tasks-list {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .task-item {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 1rem;\n          border: 1px solid #f3f4f6;\n          border-radius: 8px;\n          margin-bottom: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #fafafa;\n        }\n\n        .task-item:hover {\n          border-color: #e5e7eb;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n          background: #ffffff;\n        }\n\n        .task-item.overdue {\n          border-left: 3px solid #ef4444;\n          background: #fefefe;\n        }\n\n        .task-item.today {\n          border-left: 3px solid #f59e0b;\n          background: #fefefe;\n        }\n\n        .task-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .task-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n\n        .task-status {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .task-description {\n          font-weight: 600;\n          color: #111827;\n          font-size: 0.95rem;\n        }\n\n        .task-meta {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .priority-badge {\n          padding: 0.25rem 0.5rem;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          border: 1px solid;\n        }\n\n        .task-details {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          font-size: 0.875rem;\n          color: #6b7280;\n        }\n\n        .task-project {\n          display: flex;\n          align-items: center;\n          gap: 0.375rem;\n          font-weight: 500;\n        }\n\n        .task-due {\n          font-weight: 600;\n        }\n\n        .task-due.overdue {\n          color: #dc2626;\n        }\n\n        .task-due.today {\n          color: #d97706;\n        }\n\n        .task-action {\n          display: flex;\n          align-items: center;\n          color: #6b7280;\n          margin-left: 1rem;\n          opacity: 0.6;\n          transition: all 0.2s ease;\n        }\n\n        .task-item:hover .task-action {\n          opacity: 1;\n          color: #374151;\n          transform: translateX(2px);\n        }\n\n        .task-skeleton {\n          padding: 1rem;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          margin-bottom: 0.75rem;\n          background: #f9fafb;\n        }\n\n        .skeleton-line {\n          height: 1rem;\n          background: #e5e7eb;\n          border-radius: 4px;\n          margin-bottom: 0.5rem;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 3rem 1rem;\n          color: #6b7280;\n        }\n\n        .empty-icon {\n          font-size: 3rem;\n          color: #10b981;\n          margin-bottom: 1rem;\n        }\n\n        .empty-state h3 {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #111827;\n          margin-bottom: 0.5rem;\n        }\n\n        .empty-state p {\n          font-size: 0.875rem;\n          line-height: 1.6;\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n\n        /* Utilities */\n        .w-3 { width: 0.75rem; }\n        .h-3 { height: 0.75rem; }\n        .w-4 { width: 1rem; }\n        .h-4 { height: 1rem; }\n        .text-blue-500 { color: #3b82f6; }\n        .text-gray-500 { color: #6b7280; }\n        .text-green-500 { color: #10b981; }\n        .text-gray-400 { color: #9ca3af; }\n        .text-red-600 { color: #dc2626; }\n        .text-yellow-600 { color: #d97706; }\n        .text-green-600 { color: #059669; }\n        .text-gray-600 { color: #4b5563; }\n        .bg-red-50 { background-color: #fef2f2; }\n        .bg-yellow-50 { background-color: #fffbeb; }\n        .bg-green-50 { background-color: #f0fdf4; }\n        .bg-gray-50 { background-color: #f9fafb; }\n        .border-red-200 { border-color: #fecaca; }\n        .border-yellow-200 { border-color: #fde68a; }\n        .border-green-200 { border-color: #bbf7d0; }\n        .border-gray-200 { border-color: #e5e7eb; }\n\n        @media (max-width: 768px) {\n          .today-tasks-container {\n            padding: 1rem;\n          }\n\n          .task-item {\n            padding: 0.75rem;\n          }\n\n          .task-main {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 0.5rem;\n          }\n\n          .task-meta {\n            align-self: flex-end;\n          }\n\n          .task-details {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 0.25rem;\n          }\n\n          .task-action {\n            margin-left: 0.5rem;\n          }\n        }\n      "})]})}function Jr(e){return pr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"9",x:"3",y:"3",rx:"1"}},{tag:"rect",attr:{width:"7",height:"5",x:"14",y:"3",rx:"1"}},{tag:"rect",attr:{width:"7",height:"9",x:"14",y:"12",rx:"1"}},{tag:"rect",attr:{width:"7",height:"5",x:"3",y:"16",rx:"1"}}]})(e)}function Kr(e){return pr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 7 13.5 15.5 8.5 10.5 2 17"}},{tag:"polyline",attr:{points:"16 7 22 7 22 13"}}]})(e)}function Qr(e){return pr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}}]})(e)}function Gr(){const[e,t]=(0,a.useState)({total:0,today:0,overdue:0,done:0,inProgress:0,completionRate:0}),[n,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s()},[]);const s=async()=>{r(!0);try{const e=(new Date).toISOString().split("T")[0],[n,r]=await Promise.all([lr.from("project_tasks").select("*"),lr.from("personal_tasks").select("*")]),a=[...n.data||[],...r.data||[]].filter(e=>!e.is_archived),s=a.filter(t=>t.due_date===e&&"Done"!==t.status).length,i=a.filter(t=>t.due_date&&t.due_date<e&&"Done"!==t.status).length,o=a.filter(e=>"Done"===e.status).length,l=a.filter(e=>"In Progress"===e.status).length,c=a.length>0?Math.round(o/a.length*100):0;t({total:a.length,today:s,overdue:i,done:o,inProgress:l,completionRate:c})}catch(e){console.error("Error fetching task summary:",e)}finally{r(!1)}},i=[{label:"Total Tasks",value:e.total,icon:(0,Vr.jsx)(Dr,{}),gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",iconColor:"#667eea",description:"All active tasks"},{label:"Due Today",value:e.today,icon:(0,Vr.jsx)(xr,{}),gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",iconColor:"#f093fb",description:"Tasks due today",urgent:e.today>0},{label:"Overdue",value:e.overdue,icon:(0,Vr.jsx)(Tr,{}),gradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",iconColor:"#ff6b6b",description:"Past due tasks",urgent:e.overdue>0},{label:"Completed",value:e.done,icon:(0,Vr.jsx)(jr,{}),gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",iconColor:"#51cf66",description:"Tasks finished"},{label:"In Progress",value:e.inProgress,icon:(0,Vr.jsx)(Nr,{}),gradient:"linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)",iconColor:"#fab005",description:"Currently working"},{label:"Completion",value:`${e.completionRate}%`,icon:(0,Vr.jsx)(kr,{}),gradient:"linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)",iconColor:"#339af0",description:"Overall progress"}];return n?(0,Vr.jsxs)("div",{className:"task-summary-container",children:[(0,Vr.jsxs)("div",{className:"task-summary-header",children:[(0,Vr.jsx)(Jr,{className:"header-icon"}),(0,Vr.jsxs)("div",{className:"header-text",children:[(0,Vr.jsx)("h2",{className:"summary-title",children:"Task Overview"}),(0,Vr.jsx)("p",{className:"summary-subtitle",children:"Loading your task insights..."})]})]}),(0,Vr.jsx)("div",{className:"loading-grid",children:[...Array(6)].map((e,t)=>(0,Vr.jsx)("div",{className:"summary-card loading",children:(0,Vr.jsx)("div",{className:"loading-shimmer"})},t))})]}):(0,Vr.jsxs)("div",{className:"task-summary-container",children:[(0,Vr.jsxs)("div",{className:"task-summary-header",children:[(0,Vr.jsxs)("div",{className:"header-icon-wrapper",children:[(0,Vr.jsx)(Jr,{className:"header-icon"}),(0,Vr.jsx)(Qr,{className:"sparkle-icon"})]}),(0,Vr.jsxs)("div",{className:"header-text",children:[(0,Vr.jsx)("h2",{className:"summary-title",children:"Task Overview"}),(0,Vr.jsx)("p",{className:"summary-subtitle",children:"Your productivity at a glance"})]}),e.completionRate>=80&&(0,Vr.jsxs)("div",{className:"achievement-badge",children:[(0,Vr.jsx)(Kr,{}),(0,Vr.jsx)("span",{children:"Great Progress!"})]})]}),(0,Vr.jsx)("div",{className:"summary-grid",children:i.map((e,t)=>(0,Vr.jsxs)("div",{className:"summary-card "+(e.urgent?"urgent":""),style:{background:e.gradient,animationDelay:.1*t+"s"},children:[(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsxs)("div",{className:"card-header",children:[(0,Vr.jsx)("div",{className:"card-icon",style:{color:e.iconColor},children:e.icon}),e.urgent&&(0,Vr.jsx)("div",{className:"urgent-pulse"})]}),(0,Vr.jsxs)("div",{className:"card-body",children:[(0,Vr.jsx)("div",{className:"card-value",children:e.value}),(0,Vr.jsx)("div",{className:"card-label",children:e.label}),(0,Vr.jsx)("div",{className:"card-description",children:e.description})]})]}),(0,Vr.jsx)("div",{className:"card-overlay"})]},t))}),(e.overdue>0||e.today>0)&&(0,Vr.jsxs)("div",{className:"quick-insights",children:[(0,Vr.jsxs)("div",{className:"insight-header",children:[(0,Vr.jsx)(Tr,{className:"insight-icon"}),(0,Vr.jsx)("span",{children:"Action Required"})]}),(0,Vr.jsxs)("div",{className:"insight-content",children:[e.overdue>0&&(0,Vr.jsxs)("span",{className:"insight-item overdue",children:[e.overdue," overdue task",1!==e.overdue?"s":""]}),e.today>0&&(0,Vr.jsxs)("span",{className:"insight-item today",children:[e.today," due today"]})]})]}),(0,Vr.jsx)("style",{jsx:!0,children:"\n        .task-summary-container {\n          padding: 1.5rem;\n          background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);\n          border-radius: 1rem;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(226, 232, 240, 0.5);\n        }\n\n        .task-summary-header {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          margin-bottom: 1.5rem;\n          position: relative;\n        }\n\n        .header-icon-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 3rem;\n          height: 3rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          border-radius: 0.75rem;\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n        }\n\n        .header-icon {\n          font-size: 1.25rem;\n          color: white;\n        }\n\n        .sparkle-icon {\n          position: absolute;\n          top: -0.25rem;\n          right: -0.25rem;\n          font-size: 0.75rem;\n          color: #fbbf24;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n\n        .header-text {\n          flex: 1;\n        }\n\n        .summary-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0;\n          letter-spacing: -0.025em;\n        }\n\n        .summary-subtitle {\n          font-size: 0.875rem;\n          color: #64748b;\n          margin: 0.25rem 0 0 0;\n          font-weight: 500;\n        }\n\n        .achievement-badge {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n          color: white;\n          padding: 0.5rem 1rem;\n          border-radius: 2rem;\n          font-size: 0.875rem;\n          font-weight: 600;\n          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n          animation: slideIn 0.5s ease-out;\n        }\n\n        .summary-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 0.75rem;\n          margin-bottom: 1rem;\n        }\n\n        .summary-card {\n          position: relative;\n          border-radius: 0.75rem;\n          padding: 1rem;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          cursor: pointer;\n          overflow: hidden;\n          animation: fadeInUp 0.6s ease-out forwards;\n          opacity: 0;\n          transform: translateY(20px);\n          min-height: 110px;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n        }\n\n        .summary-card:hover {\n          transform: translateY(-4px) scale(1.02);\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n        }\n\n        .summary-card.urgent {\n          animation: urgentPulse 2s ease-in-out infinite;\n        }\n\n        .card-content {\n          position: relative;\n          z-index: 2;\n        }\n\n        .card-header {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 0.5rem;\n          position: relative;\n        }\n\n        .card-icon {\n          font-size: 1.25rem;\n          filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));\n        }\n\n        .urgent-pulse {\n          position: absolute;\n          top: -0.25rem;\n          right: -0.25rem;\n          width: 0.375rem;\n          height: 0.375rem;\n          background: #ef4444;\n          border-radius: 50%;\n          animation: pulse 1.5s ease-in-out infinite;\n        }\n\n        .card-body {\n          text-align: center;\n        }\n\n        .card-value {\n          font-size: 1.5rem;\n          font-weight: 800;\n          color: white;\n          margin-bottom: 0.125rem;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          font-family: 'Inter', sans-serif;\n          line-height: 1;\n        }\n\n        .card-label {\n          font-size: 0.75rem;\n          font-weight: 600;\n          color: rgba(255, 255, 255, 0.9);\n          margin-bottom: 0.125rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          line-height: 1;\n        }\n\n        .card-description {\n          font-size: 0.625rem;\n          color: rgba(255, 255, 255, 0.7);\n          font-weight: 500;\n          line-height: 1;\n        }\n\n        .card-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          pointer-events: none;\n        }\n\n        .summary-card:hover .card-overlay {\n          opacity: 1;\n        }\n\n        .loading-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 0.75rem;\n        }\n\n        .summary-card.loading {\n          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n          border: 1px solid #e2e8f0;\n          min-height: 110px;\n        }\n\n        .loading-shimmer {\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);\n          animation: shimmer 1.5s ease-in-out infinite;\n        }\n\n        .quick-insights {\n          background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n          border: 1px solid #f59e0b;\n          border-radius: 0.75rem;\n          padding: 1rem;\n          margin-top: 1rem;\n        }\n\n        .insight-header {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-weight: 600;\n          color: #92400e;\n          margin-bottom: 0.5rem;\n          font-size: 0.875rem;\n        }\n\n        .insight-icon {\n          font-size: 1rem;\n        }\n\n        .insight-content {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 0.75rem;\n        }\n\n        .insight-item {\n          background: rgba(255, 255, 255, 0.8);\n          padding: 0.375rem 0.75rem;\n          border-radius: 1rem;\n          font-size: 0.75rem;\n          font-weight: 600;\n          border: 1px solid rgba(245, 158, 11, 0.3);\n        }\n\n        .insight-item.overdue {\n          color: #dc2626;\n          background: rgba(254, 226, 226, 0.8);\n          border-color: rgba(220, 38, 38, 0.3);\n        }\n\n        .insight-item.today {\n          color: #7c2d12;\n        }\n\n        @keyframes fadeInUp {\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @keyframes sparkle {\n          0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }\n          50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; transform: scale(1); }\n          50% { opacity: 0.7; transform: scale(1.2); }\n        }\n\n        @keyframes urgentPulse {\n          0%, 100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }\n          50% { box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3); }\n        }\n\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n\n        @media (max-width: 768px) {\n          .summary-grid {\n            grid-template-columns: repeat(2, 1fr);\n            gap: 0.5rem;\n          }\n          \n          .task-summary-container {\n            padding: 1rem;\n          }\n          \n          .card-value {\n            font-size: 1.25rem;\n          }\n          \n          .card-label {\n            font-size: 0.625rem;\n          }\n          \n          .card-description {\n            font-size: 0.5rem;\n          }\n          \n          .achievement-badge {\n            display: none;\n          }\n          \n          .summary-card {\n            min-height: 90px;\n            padding: 0.75rem;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .summary-grid {\n            grid-template-columns: repeat(2, 1fr);\n            gap: 0.5rem;\n          }\n          \n          .summary-card {\n            min-height: 80px;\n            padding: 0.5rem;\n          }\n          \n          .card-value {\n            font-size: 1.125rem;\n          }\n        }\n      "})]})}function Yr(e){let{isOpen:t,onClose:n,onSave:r,editingTask:s=null}=e;const[i,o]=(0,a.useState)({description:"",status:"Not Started",due_date:"",notes:""});(0,a.useEffect)(()=>{o(s?{description:s.description||"",status:s.status||"Not Started",due_date:s.due_date||"",notes:s.notes||""}:{description:"",status:"Not Started",due_date:"",notes:""})},[s,t]);const l=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))};return t?(0,Vr.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Vr.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"modal-header",children:[(0,Vr.jsx)("h3",{children:s?"Edit Task":"Add New Task"}),(0,Vr.jsx)("button",{className:"modal-close-btn",onClick:n,children:(0,Vr.jsx)(Mr,{})})]}),(0,Vr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i.description.trim()?r(i):alert("Task description is required")},className:"modern-form",children:[(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Dr,{className:"field-icon"}),"Task Description *",(0,Vr.jsx)("input",{name:"description",value:i.description,onChange:l,placeholder:"What needs to be done?",required:!0})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(kr,{className:"field-icon"}),"Status",(0,Vr.jsxs)("select",{name:"status",value:i.status,onChange:l,children:[(0,Vr.jsx)("option",{value:"Not Started",children:"Not Started"}),(0,Vr.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Vr.jsx)("option",{value:"Completed",children:"Completed"}),(0,Vr.jsx)("option",{value:"Cancelled/On-hold",children:"Cancelled/On-hold"})]})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(wr,{className:"field-icon"}),"Due Date",(0,Vr.jsx)("input",{name:"due_date",type:"date",value:i.due_date,onChange:l})]})}),(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Er,{className:"field-icon"}),"Notes",(0,Vr.jsx)("textarea",{name:"notes",value:i.notes,onChange:l,rows:"3",placeholder:"Additional details or context..."})]})}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),(0,Vr.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,Vr.jsx)($r,{}),s?"Update Task":"Add Task"]})]})]})]})}):null}function Xr(e){let{isOpen:t,onClose:n,onSave:r}=e;const[s,i]=(0,a.useState)("");return t?(0,Vr.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Vr.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"modal-header",children:[(0,Vr.jsx)("h3",{children:"Add Project Log"}),(0,Vr.jsx)("button",{className:"modal-close-btn",onClick:n,children:(0,Vr.jsx)(Mr,{})})]}),(0,Vr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()?(r(s),i("")):alert("Log entry is required")},className:"modern-form",children:[(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(gr,{className:"field-icon"}),"Log Entry *",(0,Vr.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),rows:"4",placeholder:"Document progress, decisions, or important updates...",required:!0})]})}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),(0,Vr.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add Log Entry"]})]})]})]})}):null}const Zr=function(){const{id:e}=re(),t=ne(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[d,h]=(0,a.useState)(null),[f,p]=(0,a.useState)(!1),[m,v]=(0,a.useState)({}),[g,y]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[x,k]=(0,a.useState)(!1),[j,_]=(0,a.useState)(null),[S,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&C()},[e]);const C=async()=>{try{u(!0),h(null);const{data:t,error:n}=await lr.from("projects").select("*").eq("id",e).single();if(n)throw n;if(!t)return void h("Project not found");r(t),v(t),await Promise.all([E(),P()])}catch(d){console.error("Error fetching project:",d),h("Failed to load project details: "+d.message)}finally{u(!1)}},E=async()=>{try{const{data:t,error:n}=await lr.from("project_tasks").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(n)throw n;i(t||[])}catch(d){console.error("Error fetching tasks:",d)}},P=async()=>{try{const{data:t,error:n}=await lr.from("project_logs").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(n)throw n;l(t||[])}catch(d){console.error("Error fetching logs:",d)}},T=()=>{f?(v(n),p(!1)):p(!0)},O=e=>{const{name:t,value:n,type:r}=e.target;v("number"===r?e=>({...e,[t]:parseFloat(n)||0}):e=>({...e,[t]:n}))},L=()=>{_(null),w(!0)},R=()=>{k(!0)},z=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(d){return"-"}},A=e=>{if(!e)return"-";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(e))}catch(d){return"-"}},I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return"status-completed";case"in progress":return"status-in-progress";case"not started":default:return"status-not-started";case"cancelled/on-hold":return"status-cancelled"}},$=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return(0,Vr.jsx)(jr,{});case"in progress":default:return(0,Vr.jsx)(Nr,{});case"cancelled/on-hold":return(0,Vr.jsx)(Tr,{})}},D=e=>null!==e&&void 0!==e&&e.toLowerCase().includes("closed-won")?(0,Vr.jsx)(jr,{className:"stage-won"}):null!==e&&void 0!==e&&e.toLowerCase().includes("closed-lost")?(0,Vr.jsx)(Tr,{className:"stage-lost"}):null!==e&&void 0!==e&&e.toLowerCase().includes("closed-cancelled")?(0,Vr.jsx)(Mr,{className:"stage-cancelled"}):(0,Vr.jsx)(kr,{className:"stage-active"}),M=()=>S?s:s.filter(e=>!["Completed","Cancelled/On-hold"].includes(e.status)),U=()=>s.filter(e=>!["Completed","Cancelled/On-hold"].includes(e.status)).length,F=()=>s.filter(e=>"Completed"===e.status).length,B=()=>{if(0===s.length)return 0;const e=F();return Math.round(e/s.length*100)},H=()=>{if(null===n||void 0===n||!n.due_date)return null;const e=new Date,t=new Date(n.due_date)-e;return Math.ceil(t/864e5)};return c?(0,Vr.jsx)("div",{className:"page-wrapper",children:(0,Vr.jsxs)("div",{className:"loading-state",children:[(0,Vr.jsx)("div",{className:"loading-spinner"}),(0,Vr.jsx)("p",{children:"Loading project details..."})]})}):d||!n?(0,Vr.jsx)("div",{className:"page-wrapper",children:(0,Vr.jsxs)("div",{className:"error-state",children:[(0,Vr.jsx)(Tr,{className:"error-icon"}),(0,Vr.jsx)("h2",{children:"Oops! Something went wrong"}),(0,Vr.jsx)("p",{children:d||"Project not found"}),(0,Vr.jsxs)("button",{onClick:()=>t("/"),className:"btn-primary",children:[(0,Vr.jsx)(Lr,{})," Back to Dashboard"]})]})}):(0,Vr.jsx)("div",{className:"page-wrapper",children:(0,Vr.jsxs)("div",{className:"page-content",children:[(0,Vr.jsxs)("div",{className:"navigation-buttons",children:[(0,Vr.jsxs)("button",{onClick:()=>t("/"),className:"nav-btn primary",children:[(0,Vr.jsx)(Lr,{}),"Dashboard"]}),n.customer_name&&(0,Vr.jsxs)("button",{onClick:()=>{(async()=>{try{const{data:e}=await lr.from("customers").select("id").eq("customer_name",n.customer_name).single();t(e?`/customer/${e.id}`:"/")}catch(d){console.error("Error finding customer:",d),t("/")}})()},className:"nav-btn secondary",children:[(0,Vr.jsx)(Hr,{}),n.customer_name]})]}),(0,Vr.jsx)("div",{className:"project-header",children:(0,Vr.jsxs)("div",{className:"project-title-section",children:[(0,Vr.jsx)("h1",{className:"project-title",children:n.project_name||"Unnamed Project"}),(0,Vr.jsxs)("div",{className:"project-subtitle",children:[(0,Vr.jsxs)("span",{className:"customer-badge",children:[(0,Vr.jsx)(Hr,{}),n.customer_name]}),(0,Vr.jsxs)("span",{className:"stage-badge",children:[D(n.sales_stage),n.sales_stage||"No Stage"]})]})]})}),(0,Vr.jsxs)("div",{className:"overview-grid",children:[(0,Vr.jsxs)("div",{className:"overview-card primary",children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(Dr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:U()}),(0,Vr.jsx)("div",{className:"card-label",children:"Active Tasks"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[(0,Vr.jsx)(jr,{}),F()," completed"]})]})]}),(0,Vr.jsxs)("div",{className:"overview-card success",children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(kr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsxs)("div",{className:"card-value",children:[B(),"%"]}),(0,Vr.jsx)("div",{className:"card-label",children:"Progress"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[(0,Vr.jsx)(kr,{}),"On track"]})]})]}),(0,Vr.jsxs)("div",{className:`overview-card ${(()=>{const e=H();return null===e?"":e<0?"overdue":e<=3?"urgent":e<=7?"warning":"normal"})()}`,children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(wr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:H()||"-"}),(0,Vr.jsx)("div",{className:"card-label",children:"Days Remaining"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[(0,Vr.jsx)(wr,{}),(()=>{const e=H();return null===e?"No due date":e>0?`${e} days left`:0===e?"Due today":`${Math.abs(e)} days overdue`})()]})]})]}),(0,Vr.jsxs)("div",{className:"overview-card warning",children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(Cr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:A(n.deal_value)}),(0,Vr.jsx)("div",{className:"card-label",children:"Deal Value"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[D(n.sales_stage),n.sales_stage]})]})]})]}),(0,Vr.jsxs)("div",{className:"main-content",children:[(0,Vr.jsxs)("div",{className:"left-column",children:[(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(Rr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Project Details"})]}),(0,Vr.jsx)("div",{className:"section-actions",children:f?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("button",{onClick:async()=>{if(null!==n&&void 0!==n&&n.id)try{y(!0);const{data:e,error:t}=await lr.from("projects").update(m).eq("id",n.id).select();if(t)throw t;e&&e.length>0&&(r(e[0]),v(e[0]),p(!1),alert("Project updated successfully!"))}catch(d){console.error("Error updating project:",d),alert("Error updating project: "+d.message)}finally{y(!1)}else alert("Project ID is required")},className:"btn-success",disabled:g,children:[(0,Vr.jsx)($r,{}),g?"Saving...":"Save"]}),(0,Vr.jsxs)("button",{onClick:T,className:"btn-secondary",disabled:g,children:[(0,Vr.jsx)(Mr,{}),"Cancel"]})]}):(0,Vr.jsxs)("button",{onClick:T,className:"btn-primary",children:[(0,Vr.jsx)(Er,{}),"Edit"]})})]}),f&&(0,Vr.jsxs)("div",{className:"edit-banner",children:[(0,Vr.jsx)(Er,{}),(0,Vr.jsx)("span",{children:"Editing mode - Make your changes and click Save"})]}),(0,Vr.jsxs)("div",{className:"section-content",children:[(0,Vr.jsxs)("div",{className:"details-grid",children:[(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(kr,{}),"Sales Stage"]}),f?(0,Vr.jsxs)("select",{name:"sales_stage",value:m.sales_stage||"",onChange:O,className:"detail-input",children:[(0,Vr.jsx)("option",{value:"",children:"Select Stage"}),["Discovery","Demo","PoC","RFI","RFP","SoW","Contracting","Closed-Won","Closed-Lost","Closed-Cancelled/Hold"].map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]}):(0,Vr.jsxs)("div",{className:"detail-value",children:[D(n.sales_stage),n.sales_stage||"Not specified"]})]}),(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Rr,{}),"Product"]}),f?(0,Vr.jsxs)("select",{name:"product",value:m.product||"",onChange:O,className:"detail-input",children:[(0,Vr.jsx)("option",{value:"",children:"Select Product"}),["Marketplace","O-City","Processing","SmartVista"].map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]}):(0,Vr.jsx)("div",{className:"detail-value",children:n.product||"Not specified"})]}),(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Hr,{}),"Account Manager"]}),f?(0,Vr.jsx)("input",{type:"text",name:"account_manager",value:m.account_manager||"",onChange:O,className:"detail-input",placeholder:"Account manager name"}):(0,Vr.jsx)("div",{className:"detail-value",children:n.account_manager||"Not assigned"})]}),(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(wr,{}),"Due Date"]}),f?(0,Vr.jsx)("input",{type:"date",name:"due_date",value:m.due_date||"",onChange:O,className:"detail-input"}):(0,Vr.jsx)("div",{className:"detail-value",children:z(n.due_date)})]}),(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Cr,{}),"Deal Value"]}),f?(0,Vr.jsx)("input",{type:"number",name:"deal_value",value:m.deal_value||"",onChange:O,className:"detail-input",placeholder:"Deal value"}):(0,Vr.jsx)("div",{className:"detail-value",children:A(n.deal_value)})]}),(0,Vr.jsxs)("div",{className:"detail-item",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Hr,{}),"Backup Presales"]}),f?(0,Vr.jsx)("input",{type:"text",name:"backup_presales",value:m.backup_presales||"",onChange:O,className:"detail-input",placeholder:"Backup presales contact"}):(0,Vr.jsx)("div",{className:"detail-value",children:n.backup_presales||"Not assigned"})]})]}),(0,Vr.jsxs)("div",{className:"detail-item full-width",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Rr,{}),"Scope"]}),f?(0,Vr.jsx)("textarea",{name:"scope",value:m.scope||"",onChange:O,className:"detail-textarea",rows:"3",placeholder:"Project scope and objectives"}):(0,Vr.jsx)("div",{className:"detail-value scope-text",children:n.scope||"No scope defined"})]}),(n.remarks||f)&&(0,Vr.jsxs)("div",{className:"detail-item full-width",children:[(0,Vr.jsxs)("label",{className:"detail-label",children:[(0,Vr.jsx)(Er,{}),"Remarks"]}),f?(0,Vr.jsx)("textarea",{name:"remarks",value:m.remarks||"",onChange:O,className:"detail-textarea",rows:"3",placeholder:"Project remarks or notes"}):(0,Vr.jsx)("div",{className:"detail-value scope-text",children:n.remarks||"No remarks"})]})]})]}),(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(Dr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Project Tasks"}),(0,Vr.jsxs)("span",{className:"task-counter",children:[U()," active, ",F()," completed"]})]}),(0,Vr.jsxs)("div",{className:"section-actions",children:[(0,Vr.jsxs)("button",{onClick:L,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add Task"]}),(0,Vr.jsxs)("button",{className:"btn-secondary "+(S?"active":""),onClick:()=>N(!S),children:[S?(0,Vr.jsx)(Sr,{}):(0,Vr.jsx)(_r,{}),S?"Hide Completed":"Show All"]})]})]}),(0,Vr.jsx)("div",{className:"section-content",children:M().length>0?(0,Vr.jsx)("div",{className:"task-list",children:M().map(e=>(0,Vr.jsxs)("div",{className:"task-item",children:[(0,Vr.jsx)("div",{className:"task-checkbox-container",children:(0,Vr.jsx)("input",{type:"checkbox",className:"task-checkbox",checked:"Completed"===e.status,onChange:()=>(async(e,t)=>{try{const n="Completed"===t?"Not Started":"Completed",{error:r}=await lr.from("project_tasks").update({status:n}).eq("id",e);if(r)throw r;await E()}catch(d){console.error("Error updating task status:",d),alert("Error updating task status: "+d.message)}})(e.id,e.status)})}),(0,Vr.jsxs)("div",{className:"task-main-content",children:[(0,Vr.jsxs)("div",{className:"task-header",children:[(0,Vr.jsx)("h4",{className:"task-title",children:e.description}),(0,Vr.jsxs)("div",{className:"task-status-badge",children:[$(e.status),(0,Vr.jsx)("span",{className:`status-text ${I(e.status)}`,children:e.status})]})]}),e.due_date&&(0,Vr.jsxs)("div",{className:"task-meta",children:[(0,Vr.jsx)(wr,{}),(0,Vr.jsxs)("span",{children:["Due ",z(e.due_date)]})]}),e.notes&&(0,Vr.jsxs)("div",{className:"task-notes",children:[(0,Vr.jsx)(Er,{}),e.notes]})]}),(0,Vr.jsxs)("div",{className:"task-actions",children:[(0,Vr.jsx)("button",{onClick:()=>(e=>{_(e),w(!0)})(e),className:"task-action-btn edit",title:"Edit task",children:(0,Vr.jsx)(Er,{})}),(0,Vr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:t}=await lr.from("project_tasks").delete().eq("id",e);if(t)throw t;alert("Task deleted successfully!"),E()}catch(d){console.error("Error deleting task:",d),alert("Error deleting task: "+d.message)}})(e.id),className:"task-action-btn delete",title:"Delete task",children:(0,Vr.jsx)(Ur,{})})]})]},e.id))}):(0,Vr.jsxs)("div",{className:"empty-state",children:[(0,Vr.jsx)("div",{className:"empty-icon",children:(0,Vr.jsx)(Dr,{})}),(0,Vr.jsxs)("h4",{children:["No ",S?"":"active ","tasks yet"]}),(0,Vr.jsx)("p",{children:"Create your first task to start tracking project progress"}),(0,Vr.jsxs)("button",{onClick:L,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add Task"]})]})})]})]}),(0,Vr.jsxs)("div",{className:"right-column",children:[(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsx)("div",{className:"section-header",children:(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(kr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Task Analytics"})]})}),(0,Vr.jsxs)("div",{className:"section-content",children:[(0,Vr.jsxs)("div",{className:"task-analytics-grid",children:[(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon completed",children:(0,Vr.jsx)(jr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:F()}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Completed"})]})]}),(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon active",children:(0,Vr.jsx)(Nr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:U()}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Active"})]})]}),(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon total",children:(0,Vr.jsx)(Dr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:s.length}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Total"})]})]})]}),(0,Vr.jsxs)("div",{className:"progress-section",children:[(0,Vr.jsxs)("div",{className:"progress-header",children:[(0,Vr.jsx)("span",{className:"progress-label",children:"Project Progress"}),(0,Vr.jsxs)("span",{className:"progress-percentage",children:[B(),"%"]})]}),(0,Vr.jsx)("div",{className:"progress-bar",children:(0,Vr.jsx)("div",{className:"progress-fill",style:{width:`${B()}%`}})})]}),(0,Vr.jsxs)("div",{className:"status-breakdown",children:[(0,Vr.jsx)("h4",{className:"breakdown-title",children:"Task Status Breakdown"}),(0,Vr.jsx)("div",{className:"status-list",children:["Not Started","In Progress","Completed","Cancelled/On-hold"].map(e=>{const t=s.filter(t=>t.status===e).length;return 0===t?null:(0,Vr.jsxs)("div",{className:"status-item",children:[(0,Vr.jsx)("div",{className:`status-indicator ${I(e)}`,children:$(e)}),(0,Vr.jsx)("span",{className:"status-name",children:e}),(0,Vr.jsx)("span",{className:"status-count",children:t})]},e)})})]}),s.filter(e=>e.due_date&&!["Completed","Cancelled/On-hold"].includes(e.status)).length>0&&(0,Vr.jsxs)("div",{className:"upcoming-tasks",children:[(0,Vr.jsx)("h4",{className:"upcoming-title",children:"Upcoming Due Dates"}),(0,Vr.jsx)("div",{className:"upcoming-list",children:s.filter(e=>e.due_date&&!["Completed","Cancelled/On-hold"].includes(e.status)).sort((e,t)=>new Date(e.due_date)-new Date(t.due_date)).slice(0,3).map(e=>{const t=Math.ceil((new Date(e.due_date)-new Date)/864e5);return(0,Vr.jsx)("div",{className:"upcoming-task",children:(0,Vr.jsxs)("div",{className:"upcoming-task-content",children:[(0,Vr.jsx)("div",{className:"upcoming-task-title",children:e.description}),(0,Vr.jsxs)("div",{className:"upcoming-task-due "+(t<0?"overdue":t<=3?"urgent":"normal"),children:[(0,Vr.jsx)(wr,{}),t<0?`${Math.abs(t)} days overdue`:0===t?"Due today":`${t} days left`]})]})},e.id)})})]})]})]}),(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(gr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Project Log"}),(0,Vr.jsx)("span",{className:"log-counter",children:o.length})]}),(0,Vr.jsx)("div",{className:"section-actions",children:(0,Vr.jsx)("button",{onClick:R,className:"btn-primary",children:(0,Vr.jsx)(Ir,{})})})]}),(0,Vr.jsx)("div",{className:"section-content compact",children:o.length>0?(0,Vr.jsxs)("div",{className:"log-list compact",children:[o.slice(0,5).map(e=>(0,Vr.jsx)("div",{className:"log-item compact",children:(0,Vr.jsxs)("div",{className:"log-content compact",children:[(0,Vr.jsx)("div",{className:"log-text",children:e.entry}),(0,Vr.jsxs)("div",{className:"log-meta",children:[(0,Vr.jsx)("span",{className:"log-date-compact",children:z(e.created_at)}),(0,Vr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this log entry?"))try{const{error:t}=await lr.from("project_logs").delete().eq("id",e);if(t)throw t;alert("Log deleted successfully!"),P()}catch(d){console.error("Error deleting log:",d),alert("Error deleting log: "+d.message)}})(e.id),className:"log-delete-compact",title:"Delete",children:(0,Vr.jsx)(Ur,{})})]})]})},e.id)),o.length>5&&(0,Vr.jsx)("div",{className:"log-view-more",children:(0,Vr.jsxs)("button",{className:"btn-secondary compact",children:["View All ",o.length," Entries"]})})]}):(0,Vr.jsxs)("div",{className:"empty-state compact",children:[(0,Vr.jsx)("div",{className:"empty-icon",children:(0,Vr.jsx)(gr,{})}),(0,Vr.jsx)("p",{children:"No entries yet"}),(0,Vr.jsxs)("button",{onClick:R,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add Entry"]})]})})]})]})]}),(0,Vr.jsx)(Yr,{isOpen:b,onClose:()=>{w(!1),_(null)},onSave:async t=>{try{if(j){const{error:e}=await lr.from("project_tasks").update(t).eq("id",j.id);if(e)throw e;alert("Task updated successfully!")}else{const n={...t,project_id:e},{error:r}=await lr.from("project_tasks").insert([n]);if(r)throw r;alert("Task added successfully!")}w(!1),_(null),await E()}catch(d){console.error("Error saving task:",d),alert("Error saving task: "+d.message)}},editingTask:j}),(0,Vr.jsx)(Xr,{isOpen:x,onClose:()=>k(!1),onSave:async t=>{try{const{error:n}=await lr.from("project_logs").insert([{project_id:e,entry:t}]);if(n)throw n;alert("Log added successfully!"),k(!1),P()}catch(d){console.error("Error adding log:",d),alert("Error adding log: "+d.message)}}})]})})};function ea(e){let{isOpen:t,onClose:n,onSave:r,customerName:s,editingStakeholder:i=null,editingIndex:o=null}=e;const[l,c]=(0,a.useState)({name:"",role:"",email:"",phone:""});(0,a.useEffect)(()=>{i?c({name:i.name||"",role:i.role||"",email:i.email||"",phone:i.phone||""}):d()},[i,t]);const u=e=>{const{name:t,value:n}=e.target;c(e=>({...e,[t]:n}))},d=()=>{c({name:"",role:"",email:"",phone:""})},h=()=>{d(),n()};return t?(0,Vr.jsx)("div",{className:"modal-backdrop",onClick:h,children:(0,Vr.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"modal-header",children:[(0,Vr.jsx)("h3",{children:i?"Edit Stakeholder":"Add New Stakeholder"}),(0,Vr.jsx)("button",{className:"modal-close-btn",onClick:h,children:(0,Vr.jsx)(Mr,{})})]}),(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l.name)return void alert("Stakeholder name is required");const t={name:l.name,role:l.role||"",email:l.email||"",phone:l.phone||""};r(t,o),d(),n()},className:"modern-form",children:[(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Hr,{className:"field-icon"}),"Name *",(0,Vr.jsx)("input",{name:"name",value:l.name,onChange:u,placeholder:"Enter stakeholder name",required:!0})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(yr,{className:"field-icon"}),"Role/Title",(0,Vr.jsx)("input",{name:"role",value:l.role,onChange:u,placeholder:"e.g., CTO, Project Manager"})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Pr,{className:"field-icon"}),"Email",(0,Vr.jsx)("input",{name:"email",type:"email",value:l.email,onChange:u,placeholder:"email@company.com"})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(zr,{className:"field-icon"}),"Phone",(0,Vr.jsx)("input",{name:"phone",type:"tel",value:l.phone,onChange:u,placeholder:"+65 1234 5678"})]})}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:h,className:"btn-secondary",children:"Cancel"}),(0,Vr.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,Vr.jsx)($r,{}),i?"Update Stakeholder":"Add Stakeholder"]})]})]})]})}):null}function ta(e){let{isOpen:t,onClose:n,onSave:r,customerName:s}=e;const[i,o]=(0,a.useState)({customer_name:s||"",project_name:"",account_manager:"",scope:"",deal_value:"",product:"",backup_presales:"",sales_stage:"",remarks:"",due_date:"",project_type:""});(0,a.useEffect)(()=>{s&&o(e=>({...e,customer_name:s}))},[s]);const l=["Marketplace","O-City","Processing","SmartVista"].sort(),c=["RFP","CR"].sort(),u=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))},d=()=>{o({customer_name:s||"",project_name:"",account_manager:"",scope:"",deal_value:"",product:"",backup_presales:"",sales_stage:"",remarks:"",due_date:"",project_type:""})},h=()=>{d(),n()};return t?(0,Vr.jsx)("div",{className:"modal-backdrop",onClick:h,children:(0,Vr.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"modal-header",children:[(0,Vr.jsxs)("h3",{children:["Add New Project for ",s]}),(0,Vr.jsx)("button",{className:"modal-close-btn",onClick:h,children:(0,Vr.jsx)(Mr,{})})]}),(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s)try{const e={customer_name:s,account_manager:i.account_manager||null,scope:i.scope||null,deal_value:i.deal_value?parseFloat(i.deal_value):null,product:i.product||null,backup_presales:i.backup_presales||null,sales_stage:i.sales_stage,remarks:i.remarks||null,due_date:i.due_date||null,created_at:(new Date).toISOString().split("T")[0]};i.project_name&&(e.project_name=i.project_name),i.project_type&&(e.project_type=i.project_type);const{data:t,error:a}=await lr.from("projects").insert([e]).select();if(a)throw a;t&&t.length>0&&(r(t[0]),d(),n())}catch(t){console.error("Error adding project:",t),alert("Error adding project: "+t.message)}else alert("Customer name is required")},className:"modern-form",children:[(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(yr,{className:"field-icon"}),"Project Name *",(0,Vr.jsx)("input",{name:"project_name",value:i.project_name,onChange:u,placeholder:"Enter project name",required:!0})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Hr,{className:"field-icon"}),"Account Manager",(0,Vr.jsx)("input",{name:"account_manager",value:i.account_manager,onChange:u,placeholder:"Account manager name"})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(kr,{className:"field-icon"}),"Sales Stage *",(0,Vr.jsxs)("select",{name:"sales_stage",value:i.sales_stage,onChange:u,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:"Select Stage"}),["Discovery","Demo","PoC","RFI","RFP","SoW","Contracting","Closed-Won","Closed-Lost","Closed-Cancelled/Hold"].map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(br,{className:"field-icon"}),"Product *",(0,Vr.jsxs)("select",{name:"product",value:i.product,onChange:u,required:!0,children:[(0,Vr.jsx)("option",{value:"",children:"Select Product"}),l.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Dr,{className:"field-icon"}),"Project Type",(0,Vr.jsxs)("select",{name:"project_type",value:i.project_type,onChange:u,children:[(0,Vr.jsx)("option",{value:"",children:"Select Type"}),c.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Cr,{className:"field-icon"}),"Deal Value",(0,Vr.jsx)("input",{name:"deal_value",type:"number",step:"0.01",value:i.deal_value,onChange:u,placeholder:"Enter deal value"})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Hr,{className:"field-icon"}),"Backup Presales",(0,Vr.jsx)("input",{name:"backup_presales",value:i.backup_presales,onChange:u,placeholder:"Backup presales contact"})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(wr,{className:"field-icon"}),"Expected Closing Date",(0,Vr.jsx)("input",{name:"due_date",type:"date",value:i.due_date,onChange:u})]})}),(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Er,{className:"field-icon"}),"Scope",(0,Vr.jsx)("textarea",{name:"scope",value:i.scope,onChange:u,rows:"3",placeholder:"Project scope and objectives"})]})}),(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Er,{className:"field-icon"}),"Remarks",(0,Vr.jsx)("textarea",{name:"remarks",value:i.remarks,onChange:u,rows:"3",placeholder:"Project remarks or notes"})]})}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:h,className:"btn-secondary",children:"Cancel"}),(0,Vr.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,Vr.jsx)($r,{}),"Save Project"]})]})]})]})}):null}function na(e){let{isOpen:t,onClose:n,onSave:r,editingTask:s=null}=e;const[i,o]=(0,a.useState)({description:"",status:"Not Started",due_date:"",notes:""});(0,a.useEffect)(()=>{o(s?{description:s.description||"",status:s.status||"Not Started",due_date:s.due_date||"",notes:s.notes||""}:{description:"",status:"Not Started",due_date:"",notes:""})},[s,t]);const l=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))};return t?(0,Vr.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Vr.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"modal-header",children:[(0,Vr.jsx)("h3",{children:s?"Edit Task":"Add New Task"}),(0,Vr.jsx)("button",{className:"modal-close-btn",onClick:n,children:(0,Vr.jsx)(Mr,{})})]}),(0,Vr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i.description.trim()?r(i):alert("Task description is required")},className:"modern-form",children:[(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Dr,{className:"field-icon"}),"Task Description *",(0,Vr.jsx)("input",{name:"description",value:i.description,onChange:l,placeholder:"Enter task description",required:!0})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(kr,{className:"field-icon"}),"Status",(0,Vr.jsxs)("select",{name:"status",value:i.status,onChange:l,children:[(0,Vr.jsx)("option",{value:"Not Started",children:"Not Started"}),(0,Vr.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Vr.jsx)("option",{value:"Completed",children:"Completed"}),(0,Vr.jsx)("option",{value:"Cancelled/On-hold",children:"Cancelled/On-hold"})]})]})}),(0,Vr.jsx)("div",{className:"form-group",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(wr,{className:"field-icon"}),"Due Date",(0,Vr.jsx)("input",{name:"due_date",type:"date",value:i.due_date,onChange:l})]})}),(0,Vr.jsx)("div",{className:"form-group full-width",children:(0,Vr.jsxs)("label",{children:[(0,Vr.jsx)(Er,{className:"field-icon"}),"Notes",(0,Vr.jsx)("textarea",{name:"notes",value:i.notes,onChange:l,rows:"3",placeholder:"Additional notes or details"})]})}),(0,Vr.jsxs)("div",{className:"modal-actions",children:[(0,Vr.jsx)("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),(0,Vr.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,Vr.jsx)($r,{}),s?"Update Task":"Add Task"]})]})]})]})}):null}const ra=function(){var e;const{customerId:t}=re(),n=ne(),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[p,m]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[w,x]=(0,a.useState)(null),[k,j]=(0,a.useState)(null),[_,S]=(0,a.useState)(null),[N,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)({}),[T,O]=(0,a.useState)(!1),[L,R]=(0,a.useState)("active"),[z,A]=(0,a.useState)("active");(0,a.useEffect)(()=>{t&&I()},[t]),(0,a.useEffect)(()=>{null!==r&&void 0!==r&&r.customer_name&&($(),D())},[r]);const I=async()=>{try{d(!0),f(null);const{data:e,error:n}=await lr.from("customers").select("*").eq("id",t).single();if(n)throw n;if(!e)return void f("Customer not found");s(e),P(e)}catch(h){console.error("Error fetching customer:",h),f("Failed to load customer details: "+h.message)}finally{d(!1)}},$=async()=>{if(null!==r&&void 0!==r&&r.customer_name)try{const{data:e,error:t}=await lr.from("projects").select("*").eq("customer_name",r.customer_name).order("created_at",{ascending:!1});t?(console.error("Error fetching projects:",t),o([])):o(e||[])}catch(h){console.error("Error fetching projects:",h),o([])}},D=async()=>{if(null!==r&&void 0!==r&&r.customer_name)try{const{data:e,error:t}=await lr.from("projects").select("id").eq("customer_name",r.customer_name);if(t)return console.error("Error fetching customer projects for tasks:",t),void c([]);if(!e||0===e.length)return void c([]);const n=e.map(e=>e.id),{data:a,error:s}=await lr.from("project_tasks").select("\n          *,\n          projects!inner(project_name, customer_name)\n        ").in("project_id",n).order("created_at",{ascending:!1});s?(console.error("Error fetching tasks:",s),c([])):c(a||[])}catch(h){console.error("Error fetching customer tasks:",h),c([])}},M=()=>{N?(P(r),C(!1)):C(!0)},U=e=>{const{name:t,value:n,type:r}=e.target;if("key_stakeholders"===t||"competitors"===t){const e=n.split(",").map(e=>e.trim()).filter(e=>e);P(n=>({...n,[t]:e}))}else P("number"===r?e=>({...e,[t]:parseFloat(n)||0}):e=>({...e,[t]:n}))},F=()=>{x(null),j(null),g(!0)},B=()=>{null!==r&&void 0!==r&&r.customer_name?m(!0):alert("Customer information not loaded. Please refresh the page.")},H=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(h){return"-"}},V=e=>{if(!e)return"-";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(e))}catch(h){return"-"}},q=()=>i.filter(e=>{var t;return!(null!==(t=e.sales_stage)&&void 0!==t&&t.toLowerCase().startsWith("closed"))}).length,W=()=>i.filter(e=>{var t;return null===(t=e.sales_stage)||void 0===t?void 0:t.toLowerCase().startsWith("closed")}).length,J=()=>l.filter(e=>!["Completed","Cancelled/On-hold"].includes(e.status)).length,K=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return"status-completed";case"in progress":return"status-in-progress";case"not started":default:return"status-not-started";case"cancelled/on-hold":return"status-cancelled"}},Q=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return(0,Vr.jsx)(jr,{});case"in progress":default:return(0,Vr.jsx)(Nr,{});case"cancelled/on-hold":return(0,Vr.jsx)(Tr,{})}},G=(e,t)=>{if(!e||["Completed","Cancelled/On-hold"].includes(t))return null;const n=new Date;n.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const a=Math.ceil((r-n)/864e5);return a<0?"overdue":0===a?"today":a<=3?"upcoming":null},Y=(e,t)=>{if(!e)return"";const n=G(e,t),r=H(e);switch(n){case"overdue":const t=new Date,n=new Date(e),a=Math.ceil((t-n)/864e5);return`${a} day${a>1?"s":""} overdue`;case"today":return"Due today";default:return`Due ${r}`}},X=["Australia","Bangladesh","Brunei","Cambodia","China","Fiji","India","Indonesia","Japan","Laos","Malaysia","Myanmar","Nepal","New Zealand","Pakistan","Papua New Guinea","Philippines","Singapore","Solomon Islands","South Korea","Sri Lanka","Thailand","Timor-Leste","Tonga","Vanuatu","Vietnam"].sort();if(["Banking","Financial Services","Insurance","Government","Healthcare","Education","Retail","Manufacturing","Telecommunications","Energy & Utilities","Transportation","Other"].sort(),u)return(0,Vr.jsx)("div",{className:"page-wrapper",children:(0,Vr.jsxs)("div",{className:"loading-state",children:[(0,Vr.jsx)("div",{className:"loading-spinner"}),(0,Vr.jsx)("p",{children:"Loading customer details..."})]})});if(h||!r)return(0,Vr.jsx)("div",{className:"page-wrapper",children:(0,Vr.jsxs)("div",{className:"error-state",children:[(0,Vr.jsx)(Tr,{className:"error-icon"}),(0,Vr.jsx)("h2",{children:"Oops! Something went wrong"}),(0,Vr.jsx)("p",{children:h||"Customer not found"}),(0,Vr.jsxs)("button",{onClick:()=>n("/"),className:"btn-primary",children:[(0,Vr.jsx)(Lr,{})," Back to Dashboard"]})]})});const Z=(()=>{switch(L){case"active":return i.filter(e=>{var t;return!(null!==(t=e.sales_stage)&&void 0!==t&&t.toLowerCase().startsWith("closed"))});case"closed":return i.filter(e=>{var t;return null===(t=e.sales_stage)||void 0===t?void 0:t.toLowerCase().startsWith("closed")});default:return i}})(),ee="all"===z?l:l.filter(e=>!["Completed","Cancelled/On-hold"].includes(e.status)),te=J(),ae=(()=>{const e=new Date;return e.setHours(0,0,0,0),l.filter(t=>{if(!t.due_date||["Completed","Cancelled/On-hold"].includes(t.status))return!1;const n=new Date(t.due_date);return n.setHours(0,0,0,0),n<e}).length})();return(0,Vr.jsxs)("div",{className:"page-wrapper",children:[(0,Vr.jsxs)("div",{className:"page-content",children:[(0,Vr.jsxs)("button",{onClick:()=>n("/"),className:"nav-btn primary",children:[(0,Vr.jsx)(Lr,{}),"Dashboard"]}),(0,Vr.jsx)("div",{className:"customer-header",children:(0,Vr.jsxs)("div",{className:"customer-title-section",children:[(0,Vr.jsx)("h1",{className:"customer-title",children:r.customer_name}),(0,Vr.jsx)("div",{className:"customer-subtitle",children:(0,Vr.jsxs)("span",{className:"location-badge",children:[(0,Vr.jsx)(Or,{}),r.country||"Location Not Set"]})})]})}),(0,Vr.jsxs)("div",{className:"overview-grid",children:[(0,Vr.jsxs)("div",{className:"overview-card primary",children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(yr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:q()}),(0,Vr.jsx)("div",{className:"card-label",children:"Active Projects"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[(0,Vr.jsx)(kr,{}),W()," completed"]})]})]}),(0,Vr.jsxs)("div",{className:"overview-card success",children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(Dr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:te}),(0,Vr.jsx)("div",{className:"card-label",children:"Pending Tasks"}),(0,Vr.jsxs)("div",{className:"card-trend",children:[(0,Vr.jsx)(wr,{}),l.filter(e=>"today"===G(e.due_date,e.status)).length," due today"]})]})]}),(0,Vr.jsxs)("div",{className:"overview-card "+(ae>0?"urgent":"normal"),children:[(0,Vr.jsx)("div",{className:"card-icon",children:(0,Vr.jsx)(Tr,{})}),(0,Vr.jsxs)("div",{className:"card-content",children:[(0,Vr.jsx)("div",{className:"card-value",children:ae}),(0,Vr.jsx)("div",{className:"card-label",children:"Overdue Items"}),(0,Vr.jsx)("div",{className:"card-trend",children:ae>0?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Tr,{}),"Needs attention"]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(jr,{}),"All current"]})})]})]})]}),(0,Vr.jsxs)("div",{className:"main-content",children:[(0,Vr.jsxs)("div",{className:"left-column",children:[(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(br,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Customer Information"})]}),(0,Vr.jsx)("div",{className:"section-actions",children:N?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("button",{onClick:async()=>{if(null!==r&&void 0!==r&&r.id)try{O(!0);const{data:e,error:t}=await lr.from("customers").update(E).eq("id",r.id).select();if(t)throw t;e&&e.length>0&&(s(e[0]),P(e[0]),C(!1),alert("Customer updated successfully!"))}catch(h){console.error("Error updating customer:",h),alert("Error updating customer: "+h.message)}finally{O(!1)}else alert("Customer ID is required")},className:"btn-success",disabled:T,children:[(0,Vr.jsx)($r,{}),T?"Saving...":"Save"]}),(0,Vr.jsxs)("button",{onClick:M,className:"btn-secondary",disabled:T,children:[(0,Vr.jsx)(Mr,{}),"Cancel"]})]}):(0,Vr.jsxs)("button",{onClick:M,className:"btn-primary",children:[(0,Vr.jsx)(Er,{}),"Edit"]})})]}),N&&(0,Vr.jsxs)("div",{className:"edit-banner",children:[(0,Vr.jsx)(Er,{}),(0,Vr.jsx)("span",{children:"Editing mode - Make your changes and click Save"})]}),(0,Vr.jsx)("div",{className:"section-content",children:(0,Vr.jsxs)("div",{className:"customer-info-grid",children:[(0,Vr.jsxs)("div",{className:"info-item",children:[(0,Vr.jsxs)("label",{className:"info-label",children:[(0,Vr.jsx)(br,{}),"Customer Name"]}),N?(0,Vr.jsx)("input",{type:"text",name:"customer_name",value:E.customer_name||"",onChange:U,className:"info-input",required:!0}):(0,Vr.jsx)("div",{className:"info-value",children:r.customer_name})]}),(0,Vr.jsxs)("div",{className:"info-item",children:[(0,Vr.jsxs)("label",{className:"info-label",children:[(0,Vr.jsx)(Hr,{}),"Account Manager"]}),N?(0,Vr.jsx)("input",{type:"text",name:"account_manager",value:E.account_manager||"",onChange:U,className:"info-input",placeholder:"Account manager name"}):(0,Vr.jsx)("div",{className:"info-value",children:r.account_manager||"Not assigned"})]}),(0,Vr.jsxs)("div",{className:"info-item",children:[(0,Vr.jsxs)("label",{className:"info-label",children:[(0,Vr.jsx)(Or,{}),"Country"]}),N?(0,Vr.jsxs)("select",{name:"country",value:E.country||"",onChange:U,className:"info-select",children:[(0,Vr.jsx)("option",{value:"",children:"Select Country"}),X.map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]}):(0,Vr.jsx)("div",{className:"info-value",children:r.country||"Not specified"})]}),(0,Vr.jsxs)("div",{className:"info-item",children:[(0,Vr.jsxs)("label",{className:"info-label",children:[(0,Vr.jsx)(Hr,{}),"Company Size"]}),N?(0,Vr.jsxs)("select",{name:"company_size",value:E.company_size||"",onChange:U,className:"info-select",children:[(0,Vr.jsx)("option",{value:"",children:"Select Size"}),["Startup (1-10)","Small (11-50)","Medium (51-200)","Large (201-1000)","Enterprise (1000+)"].map((e,t)=>(0,Vr.jsx)("option",{value:e,children:e},t))]}):(0,Vr.jsx)("div",{className:"info-value",children:r.company_size||"Not specified"})]}),(0,Vr.jsxs)("div",{className:"info-item",children:[(0,Vr.jsxs)("label",{className:"info-label",children:[(0,Vr.jsx)(wr,{}),"Customer Since"]}),N?(0,Vr.jsx)("input",{type:"number",name:"year_first_closed",value:E.year_first_closed||"",onChange:U,className:"info-input",min:"2000",max:(new Date).getFullYear(),placeholder:"e.g., 2022"}):(0,Vr.jsx)("div",{className:"info-value",children:r.year_first_closed||"Not specified"})]})]})})]}),(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(Hr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Key Stakeholders"}),(0,Vr.jsx)("span",{className:"stakeholder-counter",children:(null===(e=r.key_stakeholders)||void 0===e?void 0:e.length)||0})]}),(0,Vr.jsx)("div",{className:"section-actions",children:(0,Vr.jsxs)("button",{className:"btn-primary",onClick:F,children:[(0,Vr.jsx)(Ir,{}),"Add Contact"]})})]}),(0,Vr.jsx)("div",{className:"section-content",children:(0,Vr.jsx)("div",{className:"stakeholder-grid",children:r.key_stakeholders&&r.key_stakeholders.length>0?r.key_stakeholders.map((e,t)=>{const n=(e=>{if("object"===typeof e&&null!==e)return e;if("string"===typeof e)try{const t=JSON.parse(e);if("object"===typeof t&&null!==t)return t}catch(ia){if(e.includes(" - ")){const[t,n]=e.split(" - ");return{name:t,role:n,email:"",phone:""}}return{name:e,role:"Contact",email:"",phone:""}}return{name:"Unknown",role:"Contact",email:"",phone:""}})(e),{name:a,role:i,email:o,phone:l}=n;return(0,Vr.jsxs)("div",{className:"stakeholder-card",children:[(0,Vr.jsxs)("div",{className:"stakeholder-header",children:[(0,Vr.jsx)("div",{className:"stakeholder-avatar",children:(0,Vr.jsx)(Hr,{})}),(0,Vr.jsxs)("div",{className:"stakeholder-actions",children:[(0,Vr.jsx)("button",{className:"stakeholder-action-btn edit",onClick:()=>((e,t)=>{x(e),j(t),g(!0)})(n,t),title:"Edit stakeholder",children:(0,Vr.jsx)(Er,{})}),(0,Vr.jsx)("button",{className:"stakeholder-action-btn delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this stakeholder?"))try{const t=(r.key_stakeholders||[]).filter((t,n)=>n!==e),{data:n,error:a}=await lr.from("customers").update({key_stakeholders:t}).eq("id",r.id).select();if(a)throw a;n&&n.length>0&&(s(n[0]),P(n[0]),alert("Stakeholder removed successfully!"))}catch(h){console.error("Error removing stakeholder:",h),alert("Error removing stakeholder: "+h.message)}})(t),title:"Remove stakeholder",children:(0,Vr.jsx)(Ur,{})})]})]}),(0,Vr.jsxs)("div",{className:"stakeholder-content",children:[(0,Vr.jsx)("div",{className:"stakeholder-name",children:a}),(0,Vr.jsx)("div",{className:"stakeholder-role",children:i||"Contact"}),o&&(0,Vr.jsxs)("div",{className:"stakeholder-contact",children:[(0,Vr.jsx)(Pr,{}),(0,Vr.jsx)("a",{href:`mailto:${o}`,className:"stakeholder-email",children:o})]}),l&&(0,Vr.jsxs)("div",{className:"stakeholder-contact",children:[(0,Vr.jsx)(zr,{}),(0,Vr.jsx)("a",{href:`tel:${l}`,className:"stakeholder-phone",children:l})]})]})]},t)}):(0,Vr.jsxs)("div",{className:"empty-state",children:[(0,Vr.jsx)("div",{className:"empty-icon",children:(0,Vr.jsx)(Hr,{})}),(0,Vr.jsx)("h4",{children:"No stakeholders added"}),(0,Vr.jsx)("p",{children:"Add key contacts to manage relationships effectively"}),(0,Vr.jsxs)("button",{onClick:F,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add First Contact"]})]})})})]}),(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(yr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Projects Portfolio"})]}),(0,Vr.jsx)("div",{className:"section-actions",children:(0,Vr.jsxs)("button",{onClick:B,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add Project"]})})]}),(0,Vr.jsxs)("div",{className:"projects-tabs",children:[(0,Vr.jsxs)("button",{className:"tab-button "+("active"===L?"active":""),onClick:()=>R("active"),children:[(0,Vr.jsx)(kr,{}),"Active Projects (",q(),")"]}),(0,Vr.jsxs)("button",{className:"tab-button "+("closed"===L?"active":""),onClick:()=>R("closed"),children:[(0,Vr.jsx)(jr,{}),"Closed Projects (",W(),")"]}),(0,Vr.jsxs)("button",{className:"tab-button "+("all"===L?"active":""),onClick:()=>R("all"),children:[(0,Vr.jsx)(yr,{}),"All Projects (",i.length,")"]})]}),(0,Vr.jsx)("div",{className:"section-content",children:Z.length>0?(0,Vr.jsx)("div",{className:"project-list",children:Z.map(e=>{var t;return(0,Vr.jsxs)("div",{className:"project-item",children:[(0,Vr.jsxs)("div",{className:"project-header",children:[(0,Vr.jsxs)("button",{onClick:()=>{return t=e.id,r=e.project_name,void(t?n(`/project/${t}`):(console.log("No project ID found for:",r),alert("Project details page is not yet available.")));var t,r},className:"project-name",children:[(0,Vr.jsx)(yr,{}),e.project_name||e.customer_name||"Unnamed Project"]}),(0,Vr.jsx)("span",{className:`project-stage stage-${null===(t=e.sales_stage)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,"-")}`,children:e.sales_stage||"No Stage"})]}),(0,Vr.jsxs)("div",{className:"project-details",children:[(0,Vr.jsxs)("div",{className:"project-meta",children:[(0,Vr.jsxs)("span",{className:"project-meta-item",children:[(0,Vr.jsx)(wr,{}),"Due: ",H(e.due_date)]}),(0,Vr.jsxs)("span",{className:"project-meta-item",children:[(0,Vr.jsx)(Hr,{}),"AM: ",e.account_manager||"Not assigned"]})]}),(0,Vr.jsxs)("div",{className:"project-value",children:[(0,Vr.jsx)(Cr,{}),V(e.deal_value)]})]}),e.scope&&(0,Vr.jsx)("div",{className:"project-scope",children:e.scope}),(0,Vr.jsx)("div",{className:"project-actions",children:(0,Vr.jsx)("button",{className:"project-action-btn delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this project?"))try{const{error:t}=await lr.from("projects").delete().eq("id",e);if(t)throw t;o(t=>t.filter(t=>t.id!==e)),alert("Project deleted successfully!")}catch(h){console.error("Error deleting project:",h),alert("Error deleting project: "+h.message)}})(e.id),title:"Delete project",children:(0,Vr.jsx)(Ur,{})})})]},e.id)})}):(0,Vr.jsxs)("div",{className:"empty-state",children:[(0,Vr.jsx)("div",{className:"empty-icon",children:(0,Vr.jsx)(yr,{})}),(0,Vr.jsx)("h4",{children:"No projects found"}),(0,Vr.jsx)("p",{children:"Start by creating your first project for this customer"}),(0,Vr.jsxs)("button",{onClick:B,className:"btn-primary",children:[(0,Vr.jsx)(Ir,{}),"Add First Project"]})]})})]})]}),(0,Vr.jsxs)("div",{className:"right-column",children:[(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsx)("div",{className:"section-header",children:(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(kr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Task Overview"})]})}),(0,Vr.jsxs)("div",{className:"section-content",children:[(0,Vr.jsxs)("div",{className:"task-analytics-grid",children:[(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon completed",children:(0,Vr.jsx)(jr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:l.filter(e=>"Completed"===e.status).length}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Completed"})]})]}),(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon active",children:(0,Vr.jsx)(Nr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:J()}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Active"})]})]}),(0,Vr.jsxs)("div",{className:"analytics-item",children:[(0,Vr.jsx)("div",{className:"analytics-icon overdue",children:(0,Vr.jsx)(Tr,{})}),(0,Vr.jsxs)("div",{className:"analytics-content",children:[(0,Vr.jsx)("div",{className:"analytics-value",children:ae}),(0,Vr.jsx)("div",{className:"analytics-label",children:"Overdue"})]})]})]}),l.length>0&&(0,Vr.jsxs)("div",{className:"progress-section",children:[(0,Vr.jsxs)("div",{className:"progress-header",children:[(0,Vr.jsx)("span",{className:"progress-label",children:"Overall Progress"}),(0,Vr.jsxs)("span",{className:"progress-percentage",children:[Math.round(l.filter(e=>"Completed"===e.status).length/l.length*100),"%"]})]}),(0,Vr.jsx)("div",{className:"progress-bar",children:(0,Vr.jsx)("div",{className:"progress-fill",style:{width:`${Math.round(l.filter(e=>"Completed"===e.status).length/l.length*100)}%`}})})]})]})]}),(0,Vr.jsxs)("div",{className:"section-card",children:[(0,Vr.jsxs)("div",{className:"section-header",children:[(0,Vr.jsxs)("div",{className:"section-title",children:[(0,Vr.jsx)(Dr,{className:"section-icon"}),(0,Vr.jsx)("h3",{children:"Active Tasks"})]}),(0,Vr.jsxs)("div",{className:"filter-toggle",children:[(0,Vr.jsx)("button",{className:"active"===z?"active":"",onClick:()=>A("active"),children:"Active"}),(0,Vr.jsx)("button",{className:"all"===z?"active":"",onClick:()=>A("all"),children:"All"})]})]}),(0,Vr.jsx)("div",{className:"section-content",children:ee.length>0?(0,Vr.jsxs)("div",{className:"task-list compact",children:[ee.slice(0,8).map(e=>{var t;return(0,Vr.jsxs)("div",{className:"task-item compact",children:[(0,Vr.jsxs)("div",{className:"task-main-content",children:[(0,Vr.jsxs)("div",{className:"task-header",children:[(0,Vr.jsx)("input",{type:"checkbox",className:"task-checkbox",checked:"Completed"===e.status,onChange:()=>(async(e,t)=>{try{const n="Completed"===t?"Not Started":"Completed",{error:r}=await lr.from("project_tasks").update({status:n}).eq("id",e);if(r)throw r;await D()}catch(h){console.error("Error updating task status:",h),alert("Error updating task status: "+h.message)}})(e.id,e.status)}),(0,Vr.jsx)("div",{className:"task-title",children:e.description}),(0,Vr.jsxs)("div",{className:"task-status-badge",children:[Q(e.status),(0,Vr.jsx)("span",{className:K(e.status),children:e.status})]})]}),(0,Vr.jsxs)("div",{className:"task-meta",children:[(0,Vr.jsxs)("span",{className:"task-project",children:[(0,Vr.jsx)(yr,{}),(null===(t=e.projects)||void 0===t?void 0:t.project_name)||"Unknown Project"]}),e.due_date&&(0,Vr.jsxs)("span",{className:`task-due due-${G(e.due_date,e.status)||"normal"}`,children:[(0,Vr.jsx)(wr,{}),Y(e.due_date,e.status)]})]})]}),(0,Vr.jsxs)("div",{className:"task-actions",children:[(0,Vr.jsx)("button",{onClick:()=>(e=>{S(e),b(!0)})(e),className:"task-action-btn edit",title:"Edit task",children:(0,Vr.jsx)(Er,{})}),(0,Vr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:t}=await lr.from("project_tasks").delete().eq("id",e);if(t)throw t;alert("Task deleted successfully!"),await D()}catch(h){console.error("Error deleting task:",h),alert("Error deleting task: "+h.message)}})(e.id),className:"task-action-btn delete",title:"Delete task",children:(0,Vr.jsx)(Ur,{})})]})]},e.id)}),ee.length>8&&(0,Vr.jsx)("div",{className:"task-view-more",children:(0,Vr.jsxs)("button",{className:"btn-secondary compact",children:["View All ",ee.length," Tasks"]})})]}):(0,Vr.jsxs)("div",{className:"empty-state compact",children:[(0,Vr.jsx)("div",{className:"empty-icon",children:(0,Vr.jsx)(Dr,{})}),(0,Vr.jsxs)("h4",{children:["No ","active"===z?"active ":"","tasks"]}),(0,Vr.jsx)("p",{children:"Tasks are managed from individual project pages"})]})})]})]})]})]}),r&&(0,Vr.jsx)(ea,{isOpen:v,onClose:()=>{g(!1),x(null),j(null)},onSave:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=r.key_stakeholders||[];let a;null!==t?(a=[...n],a[t]=e):a=[...n,e];const{data:i,error:o}=await lr.from("customers").update({key_stakeholders:a}).eq("id",r.id).select();if(o)throw o;i&&i.length>0&&(s(i[0]),P(i[0]),alert(null!==t?"Stakeholder updated successfully!":"Stakeholder added successfully!"))}catch(h){console.error("Error saving stakeholder:",h),alert("Error saving stakeholder: "+h.message)}},customerName:r.customer_name,editingStakeholder:w,editingIndex:k}),r&&(0,Vr.jsx)(ta,{isOpen:p,onClose:()=>m(!1),onSave:e=>{o(t=>[e,...t]),alert("Project added successfully!")},customerName:r.customer_name}),(0,Vr.jsx)(na,{isOpen:y,onClose:()=>{b(!1),S(null)},onSave:async e=>{try{if(!_)return void alert("Task creation not available from customer view. Please use project details.");{const{error:t}=await lr.from("project_tasks").update(e).eq("id",_.id);if(t)throw t;alert("Task updated successfully!")}b(!1),S(null),await D()}catch(h){console.error("Error saving task:",h),alert("Error saving task: "+h.message)}},editingTask:_})]})};const aa=function(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s();const{data:{subscription:e}}=lr.auth.onAuthStateChange((e,n)=>{var a;console.log("Auth event:",e),t(null!==(a=null===n||void 0===n?void 0:n.user)&&void 0!==a?a:null),r(!1)});return()=>null===e||void 0===e?void 0:e.unsubscribe()},[]);const s=async()=>{try{const{data:{user:e},error:n}=await lr.auth.getUser();if(e)return console.log("Existing user found:",e.email),t(e),void r(!1);console.log("No existing user, creating automatic session...");const a="admin@presales.com",s="presales123";let{data:i,error:o}=await lr.auth.signInWithPassword({email:a,password:s});if(o&&o.message.includes("Invalid login credentials")){console.log("Default user not found, creating one...");const{data:e,error:n}=await lr.auth.signUp({email:a,password:s});n?console.error("Could not create default user:",n):(console.log("Default user created and signed in"),t(e.user))}else o?console.error("Authentication error:",o):(console.log("Signed in with default user"),t(i.user))}catch(e){console.error("Auto-authentication failed:",e)}finally{r(!1)}};return n?(0,Vr.jsxs)("div",{className:"loading-container",children:[(0,Vr.jsx)("div",{className:"loading-spinner"}),(0,Vr.jsx)("p",{className:"loading-text",children:"Initializing dashboard..."})]}):(0,Vr.jsx)(ke,{basename:"/presales-dashboard",children:(0,Vr.jsx)("div",{className:"app-wrapper",children:(0,Vr.jsxs)("div",{className:"main-container",children:[(0,Vr.jsxs)("header",{className:"dashboard-header",children:[(0,Vr.jsxs)("div",{className:"header-content",children:[(0,Vr.jsx)("div",{className:"header-icon",children:"\ud83d\udcca"}),(0,Vr.jsxs)("div",{className:"header-text",children:[(0,Vr.jsx)("h1",{className:"dashboard-title",children:"Jonathan's Command Center"}),(0,Vr.jsx)("p",{className:"dashboard-subtitle",children:"Everything under control, probably"})]})]}),(0,Vr.jsx)("div",{className:"header-accent"})]}),(0,Vr.jsxs)(be,{children:[(0,Vr.jsx)(ge,{path:"/",element:(0,Vr.jsxs)("main",{className:"dashboard-main",children:[(0,Vr.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Vr.jsx)("div",{className:"widget-card summary-widget",children:(0,Vr.jsx)(Gr,{})}),(0,Vr.jsx)("div",{className:"widget-card tasks-widget",children:(0,Vr.jsx)(Wr,{})})]}),(0,Vr.jsx)("div",{className:"dashboard-content",children:(0,Vr.jsx)("div",{className:"widget-card projects-widget",children:(0,Vr.jsx)(qr,{})})})]})}),(0,Vr.jsx)(ge,{path:"/project/:id",element:(0,Vr.jsx)(Zr,{})}),(0,Vr.jsx)(ge,{path:"/customer/:customerId",element:(0,Vr.jsx)(ra,{})})]})]})})})},sa=document.getElementById("root");(0,i.H)(sa).render((0,Vr.jsx)(a.StrictMode,{children:(0,Vr.jsx)(aa,{})}))})();
//# sourceMappingURL=main.ccdaa1d4.js.map